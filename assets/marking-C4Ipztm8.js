import{_ as x,E as k}from"./ExamNotFound-BhWyvG-C.js";import{d as w,r as f,o as v,B as b,c as d,z as _,a as r,e as y,t,n as i,D as A,F as M,g as C,l as c,j as m,i as n}from"./index-DzxBIbcQ.js";const N={key:0,class:"p-16"},E={class:"flex flex-col gap-4 mb-16"},B={class:"flex space-x-4 w=full"},j={class:"flex flex-col justify-center items-center bg-base-100 p-8 rounded-lg w-full"},z={class:"flex flex-col justify-center items-center bg-base-100 p-8 rounded-lg w-full"},F={class:"space-y-4"},S=["innerHTML"],V={key:0},L={class:"italic"},T={key:1},D={key:2},H={class:"italic"},I=w({__name:"marking",setup(O){const g=b(),a=f(null);v(()=>{p()});const p=()=>{let l;try{if(l=JSON.parse(localStorage.getItem("exams")),!l)throw new Error("No exams found in local storage");a.value=l.find(e=>e.title===g.params.title)??null}catch(e){console.error("Failed to parse exam from local storage",e);return}},u=l=>Math.round((l.marksAwarded??0)/l.maxMarks*100),o=l=>{const e=u(l);return e>=80?"success":e>=50?"warning":"error"};return(l,e)=>a.value?(n(),d("div",N,[r("div",E,[y(x,{exam:a.value},null,8,["exam"]),r("div",B,[r("div",j,[r("p",null,t(a.value.markingComments),1)]),r("div",z,[r("p",{class:i(["mb-4 text-3xl",{"text-success":o(a.value)==="success","text-warning":o(a.value)==="warning","text-error":o(a.value)==="error"}])},t(a.value.marksAwarded)+" / "+t(a.value.maxMarks),3),r("div",{class:i(["border-4 border-transparent radial-progress",{"bg-success/10 text-success":o(a.value)==="success","bg-warning/10 text-warning":o(a.value)==="warning","bg-error/10 text-error":o(a.value)==="error"}]),style:A(`--value:${u(a.value)}; --size:12rem`),role:"progressbar"},t(u(a.value))+"% ",7)])])]),r("div",F,[(n(!0),d(M,null,C(a.value.questions,s=>(n(),d("div",{class:i(["bg-base-100 shadow-md p-8 rounded-lg",s.marksAwarded!==void 0?{"bg-success/10":s.marksAwarded===s.maxMarks,"bg-warning/10":s.marksAwarded>0&&s.marksAwarded<s.maxMarks,"bg-error/10":s.marksAwarded===0}:""])},[r("p",null,[e[0]||(e[0]=r("b",null,"Question:",-1)),e[1]||(e[1]=m()),r("span",{innerHTML:s.text},null,8,S)]),s.options?(n(),d("p",V,[e[2]||(e[2]=r("b",null,"Options:",-1)),m(" "+t(s.options.join(", ")),1)])):c("",!0),r("p",null,[e[3]||(e[3]=r("b",null,"Your answer:",-1)),e[4]||(e[4]=m()),r("span",L,t(s.answer),1)]),s.correctAnswer?(n(),d("p",T,[e[5]||(e[5]=r("b",null,"Correct answer:",-1)),m(" "+t(s.correctAnswer),1)])):c("",!0),r("p",null,[e[6]||(e[6]=r("b",null,"Marks:",-1)),m(" "+t(s.marksAwarded??0)+" / "+t(s.maxMarks),1)]),s.markingComments?(n(),d("p",D,[e[7]||(e[7]=r("b",null,"Comments:",-1)),e[8]||(e[8]=m()),r("span",H,t(s.markingComments),1)])):c("",!0)],2))),256))])])):(n(),_(k,{key:1,class:"mt-16"}))}});export{I as default};
