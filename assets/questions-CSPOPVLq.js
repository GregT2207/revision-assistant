import{d as Xe,k as bt,c as Un,l as aa,m as r_,a as G,p as Ki,i as _n,q as yr,b as lu,v as i_,F as cu,g as hu,s as u_,t as wr,x as f_,y as o_,z as su,A as a_,r as Ve,o as s_,B as l_,e as zi,f as Yi,C as c_,n as h_,j as zo,u as g_}from"./index-CUgz9_z4.js";import{_ as p_,E as d_}from"./ExamNotFound-Cf_gmLKx.js";import{Q as mr,_ as __,l as v_}from"./LlmService-BSRXYfja.js";var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sa(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}const m_={class:"z-50 bg-base-100 shadow-lg p-8 rounded"},x_={class:"mb-8"},w_={class:"font-bold text-white text-2xl"},y_={class:"text-lg"},b_=Xe({__name:"AppModal",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(b){const y=bt(b,"modelValue");return(o,x)=>y.value?(_n(),Un("div",{key:0,class:"z-50 fixed inset-0 flex justify-center items-center",onClick:x[0]||(x[0]=r_(E=>y.value=!1,["self"]))},[x[1]||(x[1]=G("div",{class:"fixed bg-black opacity-70 w-full h-full"},null,-1)),G("div",m_,[G("div",x_,[G("h2",w_,[Ki(o.$slots,"title")]),G("h3",y_,[Ki(o.$slots,"subtitle")])]),Ki(o.$slots,"default")])])):aa("",!0)}}),A_=["rows","placeholder"],la=Xe({__name:"AppTextbox",props:yr({placeholder:{},rows:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(b){const y=bt(b,"modelValue");return(o,x)=>lu((_n(),Un("textarea",{"onUpdate:modelValue":x[0]||(x[0]=E=>y.value=E),rows:o.rows??5,placeholder:o.placeholder??"Enter text...",class:"w-full !min-h-0 textarea","aria-label":"Textarea"},null,8,A_)),[[i_,y.value]])}}),T_={class:"w-full"},S_={class:"border border-base-content/25 rounded-md *:first:rounded-t-md *:last:rounded-b-md divide-y divide-base-content/25 max-w-sm *:cursor-pointer"},R_={class:"flex items-center gap-3 p-3"},I_={class:"text-base label-text"},E_=Xe({__name:"AppCheckboxGroup",props:yr({options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(b){const y=bt(b,"modelValue");return(o,x)=>(_n(),Un("div",T_,[G("ul",S_,[(_n(!0),Un(cu,null,hu(o.options,E=>(_n(),Un("li",{key:E},[G("label",R_,[lu(G("input",{"onUpdate:modelValue":x[0]||(x[0]=J=>y.value=J),type:"checkbox",class:"checkbox checkbox-primary"},null,512),[[u_,y.value]]),G("span",I_,wr(E),1)])]))),128))])]))}}),C_={class:"w-full"},O_={class:"border border-base-content/25 rounded-md *:first:rounded-t-md *:last:rounded-b-md divide-y divide-base-content/25 max-w-sm *:cursor-pointer"},L_={class:"flex items-center gap-3 p-3"},M_=["value"],P_={class:"text-base label-text"},W_=Xe({__name:"AppRadioGroup",props:yr({options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(b){const y=bt(b,"modelValue");return(o,x)=>(_n(),Un("div",C_,[G("ul",O_,[(_n(!0),Un(cu,null,hu(o.options,E=>(_n(),Un("li",{key:E},[G("label",L_,[lu(G("input",{"onUpdate:modelValue":x[0]||(x[0]=J=>y.value=J),value:E,type:"radio",class:"radio radio-primary"},null,8,M_),[[f_,y.value]]),G("span",P_,wr(E),1)])]))),128))])]))}}),B_=["innerHTML"],F_={class:"mb-2 text-gray-400 text-xs"},U_=Xe({__name:"ExamQuestion",props:yr({question:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(b){const y=bt(b,"modelValue"),o=o_(new Map([[mr.Text,la],[mr.Checkbox,E_],[mr.Radio,W_],[mr.Dropdown,__]]));return(x,E)=>(_n(),Un("div",null,[G("h2",{innerHTML:x.question.text},null,8,B_),G("p",F_,wr(x.question.maxMarks)+" mark"+wr(x.question.maxMarks>1?"s":""),1),(_n(),su(a_(o.value.get(x.question.kind)),{modelValue:y.value,"onUpdate:modelValue":E[0]||(E[0]=J=>y.value=J),placeholder:"Enter your answer...",rows:x.question.answerRows,options:x.question.options},null,8,["modelValue","rows","options"]))]))}}),D_="The attached file is an official marking scheme.",N_="You are an examiner reading through a completed exam paper. The following text is a JSON representation of the completed paper that you must mark. You must mark this paper accurately and fairly, not being overly lenient or overly strict. Do not invoke your own personal opinions when marking, follow the information you've been provided with objectively.",q_="While marking this exam paper, bear in mind these guidelines: {{ guidelines }}",xr={filePrompt:D_,basePrompt:N_,guidelinesPrompt:q_},$_="markedExam",G_="Completed exam paper that has been marked",H_=!0,k_={type:"object",properties:{questions:{type:["array"],description:"Array of all questions that the exam paper asks.",items:{$ref:"#/definitions/ExamQuestion"}},marksAwarded:{type:"number",description:"The total number of marks awarded for the paper. This should be the sum of marks awarded for each question, unless there's an explicit reason to adjust it."},markingComments:{type:"string",description:"General comments from the perspective of the examiner about the answers given in the paper"}},additionalProperties:!1,required:["questions","marksAwarded","markingComments"],definitions:{ExamQuestion:{type:"object",properties:{correctAnswer:{type:["string","null"],description:"The correct answer to the question. This is only applicable for questions with a single, objectively correct answer (e.g. radio questions)."},marksAwarded:{type:"number",description:"The total number of marks awarded for this question specifically. This should not exceed the total marks available for this question specifically."},markingComments:{type:["string","null"],description:"Comments from the perspective of the examiner about the answer given for this question specifically. Leave this field blank if there is nothing significant to remark upon."}},required:["correctAnswer","marksAwarded","markingComments"],additionalProperties:!1}}},Zi={name:$_,description:G_,strict:H_,schema:k_};var yt={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var K_=yt.exports,Yo;function z_(){return Yo||(Yo=1,function(b,y){(function(){var o,x="4.17.21",E=200,J="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",F="Expected a function",V="Invalid `variable` option passed into `_.template`",rn="__lodash_hash_undefined__",U=500,X="__lodash_placeholder__",un=1,Xn=2,k=4,C=1,z=2,Q=1,Qn=2,le=4,yn=8,jn=16,Dn=32,ye=64,En=128,zn=256,Me=512,br=30,Ar="...",Qe=800,nn=16,Nn=1,be=2,At=3,Tt=1/0,Pe=9007199254740991,pa=17976931348623157e292,St=NaN,Yn=4294967295,da=Yn-1,_a=Yn>>>1,va=[["ary",En],["bind",Q],["bindKey",Qn],["curry",yn],["curryRight",jn],["flip",Me],["partial",Dn],["partialRight",ye],["rearg",zn]],We="[object Arguments]",Rt="[object Array]",ma="[object AsyncFunction]",je="[object Boolean]",nt="[object Date]",xa="[object DOMException]",It="[object Error]",Et="[object Function]",gu="[object GeneratorFunction]",qn="[object Map]",et="[object Number]",wa="[object Null]",ne="[object Object]",pu="[object Promise]",ya="[object Proxy]",tt="[object RegExp]",$n="[object Set]",rt="[object String]",Ct="[object Symbol]",ba="[object Undefined]",it="[object WeakMap]",Aa="[object WeakSet]",ut="[object ArrayBuffer]",Be="[object DataView]",Tr="[object Float32Array]",Sr="[object Float64Array]",Rr="[object Int8Array]",Ir="[object Int16Array]",Er="[object Int32Array]",Cr="[object Uint8Array]",Or="[object Uint8ClampedArray]",Lr="[object Uint16Array]",Mr="[object Uint32Array]",Ta=/\b__p \+= '';/g,Sa=/\b(__p \+=) '' \+/g,Ra=/(__e\(.*?\)|\b__t\)) \+\n'';/g,du=/&(?:amp|lt|gt|quot|#39);/g,_u=/[&<>"']/g,Ia=RegExp(du.source),Ea=RegExp(_u.source),Ca=/<%-([\s\S]+?)%>/g,Oa=/<%([\s\S]+?)%>/g,vu=/<%=([\s\S]+?)%>/g,La=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ma=/^\w*$/,Pa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pr=/[\\^$.*+?()[\]{}|]/g,Wa=RegExp(Pr.source),Wr=/^\s+/,Ba=/\s/,Fa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ua=/\{\n\/\* \[wrapped with (.+)\] \*/,Da=/,? & /,Na=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qa=/[()=,{}\[\]\/\s]/,$a=/\\(\\)?/g,Ga=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mu=/\w*$/,Ha=/^[-+]0x[0-9a-f]+$/i,ka=/^0b[01]+$/i,Ka=/^\[object .+?Constructor\]$/,za=/^0o[0-7]+$/i,Ya=/^(?:0|[1-9]\d*)$/,Za=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ot=/($^)/,Ja=/['\n\r\u2028\u2029\\]/g,Lt="\\ud800-\\udfff",Va="\\u0300-\\u036f",Xa="\\ufe20-\\ufe2f",Qa="\\u20d0-\\u20ff",xu=Va+Xa+Qa,wu="\\u2700-\\u27bf",yu="a-z\\xdf-\\xf6\\xf8-\\xff",ja="\\xac\\xb1\\xd7\\xf7",ns="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",es="\\u2000-\\u206f",ts=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bu="A-Z\\xc0-\\xd6\\xd8-\\xde",Au="\\ufe0e\\ufe0f",Tu=ja+ns+es+ts,Br="['’]",rs="["+Lt+"]",Su="["+Tu+"]",Mt="["+xu+"]",Ru="\\d+",is="["+wu+"]",Iu="["+yu+"]",Eu="[^"+Lt+Tu+Ru+wu+yu+bu+"]",Fr="\\ud83c[\\udffb-\\udfff]",us="(?:"+Mt+"|"+Fr+")",Cu="[^"+Lt+"]",Ur="(?:\\ud83c[\\udde6-\\uddff]){2}",Dr="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+bu+"]",Ou="\\u200d",Lu="(?:"+Iu+"|"+Eu+")",fs="(?:"+Fe+"|"+Eu+")",Mu="(?:"+Br+"(?:d|ll|m|re|s|t|ve))?",Pu="(?:"+Br+"(?:D|LL|M|RE|S|T|VE))?",Wu=us+"?",Bu="["+Au+"]?",os="(?:"+Ou+"(?:"+[Cu,Ur,Dr].join("|")+")"+Bu+Wu+")*",as="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ss="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fu=Bu+Wu+os,ls="(?:"+[is,Ur,Dr].join("|")+")"+Fu,cs="(?:"+[Cu+Mt+"?",Mt,Ur,Dr,rs].join("|")+")",hs=RegExp(Br,"g"),gs=RegExp(Mt,"g"),Nr=RegExp(Fr+"(?="+Fr+")|"+cs+Fu,"g"),ps=RegExp([Fe+"?"+Iu+"+"+Mu+"(?="+[Su,Fe,"$"].join("|")+")",fs+"+"+Pu+"(?="+[Su,Fe+Lu,"$"].join("|")+")",Fe+"?"+Lu+"+"+Mu,Fe+"+"+Pu,ss,as,Ru,ls].join("|"),"g"),ds=RegExp("["+Ou+Lt+xu+Au+"]"),_s=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ms=-1,K={};K[Tr]=K[Sr]=K[Rr]=K[Ir]=K[Er]=K[Cr]=K[Or]=K[Lr]=K[Mr]=!0,K[We]=K[Rt]=K[ut]=K[je]=K[Be]=K[nt]=K[It]=K[Et]=K[qn]=K[et]=K[ne]=K[tt]=K[$n]=K[rt]=K[it]=!1;var H={};H[We]=H[Rt]=H[ut]=H[Be]=H[je]=H[nt]=H[Tr]=H[Sr]=H[Rr]=H[Ir]=H[Er]=H[qn]=H[et]=H[ne]=H[tt]=H[$n]=H[rt]=H[Ct]=H[Cr]=H[Or]=H[Lr]=H[Mr]=!0,H[It]=H[Et]=H[it]=!1;var xs={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ws={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ys={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},As=parseFloat,Ts=parseInt,Uu=typeof we=="object"&&we&&we.Object===Object&&we,Ss=typeof self=="object"&&self&&self.Object===Object&&self,sn=Uu||Ss||Function("return this")(),qr=y&&!y.nodeType&&y,Ae=qr&&!0&&b&&!b.nodeType&&b,Du=Ae&&Ae.exports===qr,$r=Du&&Uu.process,Cn=function(){try{var l=Ae&&Ae.require&&Ae.require("util").types;return l||$r&&$r.binding&&$r.binding("util")}catch{}}(),Nu=Cn&&Cn.isArrayBuffer,qu=Cn&&Cn.isDate,$u=Cn&&Cn.isMap,Gu=Cn&&Cn.isRegExp,Hu=Cn&&Cn.isSet,ku=Cn&&Cn.isTypedArray;function bn(l,g,h){switch(h.length){case 0:return l.call(g);case 1:return l.call(g,h[0]);case 2:return l.call(g,h[0],h[1]);case 3:return l.call(g,h[0],h[1],h[2])}return l.apply(g,h)}function Rs(l,g,h,m){for(var R=-1,D=l==null?0:l.length;++R<D;){var fn=l[R];g(m,fn,h(fn),l)}return m}function On(l,g){for(var h=-1,m=l==null?0:l.length;++h<m&&g(l[h],h,l)!==!1;);return l}function Is(l,g){for(var h=l==null?0:l.length;h--&&g(l[h],h,l)!==!1;);return l}function Ku(l,g){for(var h=-1,m=l==null?0:l.length;++h<m;)if(!g(l[h],h,l))return!1;return!0}function ce(l,g){for(var h=-1,m=l==null?0:l.length,R=0,D=[];++h<m;){var fn=l[h];g(fn,h,l)&&(D[R++]=fn)}return D}function Pt(l,g){var h=l==null?0:l.length;return!!h&&Ue(l,g,0)>-1}function Gr(l,g,h){for(var m=-1,R=l==null?0:l.length;++m<R;)if(h(g,l[m]))return!0;return!1}function Y(l,g){for(var h=-1,m=l==null?0:l.length,R=Array(m);++h<m;)R[h]=g(l[h],h,l);return R}function he(l,g){for(var h=-1,m=g.length,R=l.length;++h<m;)l[R+h]=g[h];return l}function Hr(l,g,h,m){var R=-1,D=l==null?0:l.length;for(m&&D&&(h=l[++R]);++R<D;)h=g(h,l[R],R,l);return h}function Es(l,g,h,m){var R=l==null?0:l.length;for(m&&R&&(h=l[--R]);R--;)h=g(h,l[R],R,l);return h}function kr(l,g){for(var h=-1,m=l==null?0:l.length;++h<m;)if(g(l[h],h,l))return!0;return!1}var Cs=Kr("length");function Os(l){return l.split("")}function Ls(l){return l.match(Na)||[]}function zu(l,g,h){var m;return h(l,function(R,D,fn){if(g(R,D,fn))return m=D,!1}),m}function Wt(l,g,h,m){for(var R=l.length,D=h+(m?1:-1);m?D--:++D<R;)if(g(l[D],D,l))return D;return-1}function Ue(l,g,h){return g===g?Hs(l,g,h):Wt(l,Yu,h)}function Ms(l,g,h,m){for(var R=h-1,D=l.length;++R<D;)if(m(l[R],g))return R;return-1}function Yu(l){return l!==l}function Zu(l,g){var h=l==null?0:l.length;return h?Yr(l,g)/h:St}function Kr(l){return function(g){return g==null?o:g[l]}}function zr(l){return function(g){return l==null?o:l[g]}}function Ju(l,g,h,m,R){return R(l,function(D,fn,$){h=m?(m=!1,D):g(h,D,fn,$)}),h}function Ps(l,g){var h=l.length;for(l.sort(g);h--;)l[h]=l[h].value;return l}function Yr(l,g){for(var h,m=-1,R=l.length;++m<R;){var D=g(l[m]);D!==o&&(h=h===o?D:h+D)}return h}function Zr(l,g){for(var h=-1,m=Array(l);++h<l;)m[h]=g(h);return m}function Ws(l,g){return Y(g,function(h){return[h,l[h]]})}function Vu(l){return l&&l.slice(0,nf(l)+1).replace(Wr,"")}function An(l){return function(g){return l(g)}}function Jr(l,g){return Y(g,function(h){return l[h]})}function ft(l,g){return l.has(g)}function Xu(l,g){for(var h=-1,m=l.length;++h<m&&Ue(g,l[h],0)>-1;);return h}function Qu(l,g){for(var h=l.length;h--&&Ue(g,l[h],0)>-1;);return h}function Bs(l,g){for(var h=l.length,m=0;h--;)l[h]===g&&++m;return m}var Fs=zr(xs),Us=zr(ws);function Ds(l){return"\\"+bs[l]}function Ns(l,g){return l==null?o:l[g]}function De(l){return ds.test(l)}function qs(l){return _s.test(l)}function $s(l){for(var g,h=[];!(g=l.next()).done;)h.push(g.value);return h}function Vr(l){var g=-1,h=Array(l.size);return l.forEach(function(m,R){h[++g]=[R,m]}),h}function ju(l,g){return function(h){return l(g(h))}}function ge(l,g){for(var h=-1,m=l.length,R=0,D=[];++h<m;){var fn=l[h];(fn===g||fn===X)&&(l[h]=X,D[R++]=h)}return D}function Bt(l){var g=-1,h=Array(l.size);return l.forEach(function(m){h[++g]=m}),h}function Gs(l){var g=-1,h=Array(l.size);return l.forEach(function(m){h[++g]=[m,m]}),h}function Hs(l,g,h){for(var m=h-1,R=l.length;++m<R;)if(l[m]===g)return m;return-1}function ks(l,g,h){for(var m=h+1;m--;)if(l[m]===g)return m;return m}function Ne(l){return De(l)?zs(l):Cs(l)}function Gn(l){return De(l)?Ys(l):Os(l)}function nf(l){for(var g=l.length;g--&&Ba.test(l.charAt(g)););return g}var Ks=zr(ys);function zs(l){for(var g=Nr.lastIndex=0;Nr.test(l);)++g;return g}function Ys(l){return l.match(Nr)||[]}function Zs(l){return l.match(ps)||[]}var Js=function l(g){g=g==null?sn:qe.defaults(sn.Object(),g,qe.pick(sn,vs));var h=g.Array,m=g.Date,R=g.Error,D=g.Function,fn=g.Math,$=g.Object,Xr=g.RegExp,Vs=g.String,Ln=g.TypeError,Ft=h.prototype,Xs=D.prototype,$e=$.prototype,Ut=g["__core-js_shared__"],Dt=Xs.toString,q=$e.hasOwnProperty,Qs=0,ef=function(){var n=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Nt=$e.toString,js=Dt.call($),nl=sn._,el=Xr("^"+Dt.call(q).replace(Pr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qt=Du?g.Buffer:o,pe=g.Symbol,$t=g.Uint8Array,tf=qt?qt.allocUnsafe:o,Gt=ju($.getPrototypeOf,$),rf=$.create,uf=$e.propertyIsEnumerable,Ht=Ft.splice,ff=pe?pe.isConcatSpreadable:o,ot=pe?pe.iterator:o,Te=pe?pe.toStringTag:o,kt=function(){try{var n=Ce($,"defineProperty");return n({},"",{}),n}catch{}}(),tl=g.clearTimeout!==sn.clearTimeout&&g.clearTimeout,rl=m&&m.now!==sn.Date.now&&m.now,il=g.setTimeout!==sn.setTimeout&&g.setTimeout,Kt=fn.ceil,zt=fn.floor,Qr=$.getOwnPropertySymbols,ul=qt?qt.isBuffer:o,of=g.isFinite,fl=Ft.join,ol=ju($.keys,$),on=fn.max,cn=fn.min,al=m.now,sl=g.parseInt,af=fn.random,ll=Ft.reverse,jr=Ce(g,"DataView"),at=Ce(g,"Map"),ni=Ce(g,"Promise"),Ge=Ce(g,"Set"),st=Ce(g,"WeakMap"),lt=Ce($,"create"),Yt=st&&new st,He={},cl=Oe(jr),hl=Oe(at),gl=Oe(ni),pl=Oe(Ge),dl=Oe(st),Zt=pe?pe.prototype:o,ct=Zt?Zt.valueOf:o,sf=Zt?Zt.toString:o;function u(n){if(j(n)&&!I(n)&&!(n instanceof W)){if(n instanceof Mn)return n;if(q.call(n,"__wrapped__"))return lo(n)}return new Mn(n)}var ke=function(){function n(){}return function(e){if(!Z(e))return{};if(rf)return rf(e);n.prototype=e;var t=new n;return n.prototype=o,t}}();function Jt(){}function Mn(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}u.templateSettings={escape:Ca,evaluate:Oa,interpolate:vu,variable:"",imports:{_:u}},u.prototype=Jt.prototype,u.prototype.constructor=u,Mn.prototype=ke(Jt.prototype),Mn.prototype.constructor=Mn;function W(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Yn,this.__views__=[]}function _l(){var n=new W(this.__wrapped__);return n.__actions__=vn(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=vn(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=vn(this.__views__),n}function vl(){if(this.__filtered__){var n=new W(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function ml(){var n=this.__wrapped__.value(),e=this.__dir__,t=I(n),r=e<0,i=t?n.length:0,f=Oc(0,i,this.__views__),a=f.start,s=f.end,c=s-a,p=r?s:a-1,d=this.__iteratees__,_=d.length,v=0,w=cn(c,this.__takeCount__);if(!t||!r&&i==c&&w==c)return Pf(n,this.__actions__);var T=[];n:for(;c--&&v<w;){p+=e;for(var L=-1,S=n[p];++L<_;){var P=d[L],B=P.iteratee,Rn=P.type,dn=B(S);if(Rn==be)S=dn;else if(!dn){if(Rn==Nn)continue n;break n}}T[v++]=S}return T}W.prototype=ke(Jt.prototype),W.prototype.constructor=W;function Se(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function xl(){this.__data__=lt?lt(null):{},this.size=0}function wl(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}function yl(n){var e=this.__data__;if(lt){var t=e[n];return t===rn?o:t}return q.call(e,n)?e[n]:o}function bl(n){var e=this.__data__;return lt?e[n]!==o:q.call(e,n)}function Al(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=lt&&e===o?rn:e,this}Se.prototype.clear=xl,Se.prototype.delete=wl,Se.prototype.get=yl,Se.prototype.has=bl,Se.prototype.set=Al;function ee(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Tl(){this.__data__=[],this.size=0}function Sl(n){var e=this.__data__,t=Vt(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Ht.call(e,t,1),--this.size,!0}function Rl(n){var e=this.__data__,t=Vt(e,n);return t<0?o:e[t][1]}function Il(n){return Vt(this.__data__,n)>-1}function El(n,e){var t=this.__data__,r=Vt(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}ee.prototype.clear=Tl,ee.prototype.delete=Sl,ee.prototype.get=Rl,ee.prototype.has=Il,ee.prototype.set=El;function te(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}function Cl(){this.size=0,this.__data__={hash:new Se,map:new(at||ee),string:new Se}}function Ol(n){var e=ar(this,n).delete(n);return this.size-=e?1:0,e}function Ll(n){return ar(this,n).get(n)}function Ml(n){return ar(this,n).has(n)}function Pl(n,e){var t=ar(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}te.prototype.clear=Cl,te.prototype.delete=Ol,te.prototype.get=Ll,te.prototype.has=Ml,te.prototype.set=Pl;function Re(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new te;++e<t;)this.add(n[e])}function Wl(n){return this.__data__.set(n,rn),this}function Bl(n){return this.__data__.has(n)}Re.prototype.add=Re.prototype.push=Wl,Re.prototype.has=Bl;function Hn(n){var e=this.__data__=new ee(n);this.size=e.size}function Fl(){this.__data__=new ee,this.size=0}function Ul(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Dl(n){return this.__data__.get(n)}function Nl(n){return this.__data__.has(n)}function ql(n,e){var t=this.__data__;if(t instanceof ee){var r=t.__data__;if(!at||r.length<E-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new te(r)}return t.set(n,e),this.size=t.size,this}Hn.prototype.clear=Fl,Hn.prototype.delete=Ul,Hn.prototype.get=Dl,Hn.prototype.has=Nl,Hn.prototype.set=ql;function lf(n,e){var t=I(n),r=!t&&Le(n),i=!t&&!r&&xe(n),f=!t&&!r&&!i&&Ze(n),a=t||r||i||f,s=a?Zr(n.length,Vs):[],c=s.length;for(var p in n)(e||q.call(n,p))&&!(a&&(p=="length"||i&&(p=="offset"||p=="parent")||f&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||fe(p,c)))&&s.push(p);return s}function cf(n){var e=n.length;return e?n[ci(0,e-1)]:o}function $l(n,e){return sr(vn(n),Ie(e,0,n.length))}function Gl(n){return sr(vn(n))}function ei(n,e,t){(t!==o&&!kn(n[e],t)||t===o&&!(e in n))&&re(n,e,t)}function ht(n,e,t){var r=n[e];(!(q.call(n,e)&&kn(r,t))||t===o&&!(e in n))&&re(n,e,t)}function Vt(n,e){for(var t=n.length;t--;)if(kn(n[t][0],e))return t;return-1}function Hl(n,e,t,r){return de(n,function(i,f,a){e(r,i,t(i),a)}),r}function hf(n,e){return n&&Jn(e,an(e),n)}function kl(n,e){return n&&Jn(e,xn(e),n)}function re(n,e,t){e=="__proto__"&&kt?kt(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function ti(n,e){for(var t=-1,r=e.length,i=h(r),f=n==null;++t<r;)i[t]=f?o:Fi(n,e[t]);return i}function Ie(n,e,t){return n===n&&(t!==o&&(n=n<=t?n:t),e!==o&&(n=n>=e?n:e)),n}function Pn(n,e,t,r,i,f){var a,s=e&un,c=e&Xn,p=e&k;if(t&&(a=i?t(n,r,i,f):t(n)),a!==o)return a;if(!Z(n))return n;var d=I(n);if(d){if(a=Mc(n),!s)return vn(n,a)}else{var _=hn(n),v=_==Et||_==gu;if(xe(n))return Ff(n,s);if(_==ne||_==We||v&&!i){if(a=c||v?{}:eo(n),!s)return c?yc(n,kl(a,n)):wc(n,hf(a,n))}else{if(!H[_])return i?n:{};a=Pc(n,_,s)}}f||(f=new Hn);var w=f.get(n);if(w)return w;f.set(n,a),Lo(n)?n.forEach(function(S){a.add(Pn(S,e,t,S,n,f))}):Co(n)&&n.forEach(function(S,P){a.set(P,Pn(S,e,t,P,n,f))});var T=p?c?bi:yi:c?xn:an,L=d?o:T(n);return On(L||n,function(S,P){L&&(P=S,S=n[P]),ht(a,P,Pn(S,e,t,P,n,f))}),a}function Kl(n){var e=an(n);return function(t){return gf(t,n,e)}}function gf(n,e,t){var r=t.length;if(n==null)return!r;for(n=$(n);r--;){var i=t[r],f=e[i],a=n[i];if(a===o&&!(i in n)||!f(a))return!1}return!0}function pf(n,e,t){if(typeof n!="function")throw new Ln(F);return xt(function(){n.apply(o,t)},e)}function gt(n,e,t,r){var i=-1,f=Pt,a=!0,s=n.length,c=[],p=e.length;if(!s)return c;t&&(e=Y(e,An(t))),r?(f=Gr,a=!1):e.length>=E&&(f=ft,a=!1,e=new Re(e));n:for(;++i<s;){var d=n[i],_=t==null?d:t(d);if(d=r||d!==0?d:0,a&&_===_){for(var v=p;v--;)if(e[v]===_)continue n;c.push(d)}else f(e,_,r)||c.push(d)}return c}var de=$f(Zn),df=$f(ii,!0);function zl(n,e){var t=!0;return de(n,function(r,i,f){return t=!!e(r,i,f),t}),t}function Xt(n,e,t){for(var r=-1,i=n.length;++r<i;){var f=n[r],a=e(f);if(a!=null&&(s===o?a===a&&!Sn(a):t(a,s)))var s=a,c=f}return c}function Yl(n,e,t,r){var i=n.length;for(t=O(t),t<0&&(t=-t>i?0:i+t),r=r===o||r>i?i:O(r),r<0&&(r+=i),r=t>r?0:Po(r);t<r;)n[t++]=e;return n}function _f(n,e){var t=[];return de(n,function(r,i,f){e(r,i,f)&&t.push(r)}),t}function ln(n,e,t,r,i){var f=-1,a=n.length;for(t||(t=Bc),i||(i=[]);++f<a;){var s=n[f];e>0&&t(s)?e>1?ln(s,e-1,t,r,i):he(i,s):r||(i[i.length]=s)}return i}var ri=Gf(),vf=Gf(!0);function Zn(n,e){return n&&ri(n,e,an)}function ii(n,e){return n&&vf(n,e,an)}function Qt(n,e){return ce(e,function(t){return oe(n[t])})}function Ee(n,e){e=ve(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Vn(e[t++])];return t&&t==r?n:o}function mf(n,e,t){var r=e(n);return I(n)?r:he(r,t(n))}function gn(n){return n==null?n===o?ba:wa:Te&&Te in $(n)?Cc(n):Gc(n)}function ui(n,e){return n>e}function Zl(n,e){return n!=null&&q.call(n,e)}function Jl(n,e){return n!=null&&e in $(n)}function Vl(n,e,t){return n>=cn(e,t)&&n<on(e,t)}function fi(n,e,t){for(var r=t?Gr:Pt,i=n[0].length,f=n.length,a=f,s=h(f),c=1/0,p=[];a--;){var d=n[a];a&&e&&(d=Y(d,An(e))),c=cn(d.length,c),s[a]=!t&&(e||i>=120&&d.length>=120)?new Re(a&&d):o}d=n[0];var _=-1,v=s[0];n:for(;++_<i&&p.length<c;){var w=d[_],T=e?e(w):w;if(w=t||w!==0?w:0,!(v?ft(v,T):r(p,T,t))){for(a=f;--a;){var L=s[a];if(!(L?ft(L,T):r(n[a],T,t)))continue n}v&&v.push(T),p.push(w)}}return p}function Xl(n,e,t,r){return Zn(n,function(i,f,a){e(r,t(i),f,a)}),r}function pt(n,e,t){e=ve(e,n),n=uo(n,e);var r=n==null?n:n[Vn(Bn(e))];return r==null?o:bn(r,n,t)}function xf(n){return j(n)&&gn(n)==We}function Ql(n){return j(n)&&gn(n)==ut}function jl(n){return j(n)&&gn(n)==nt}function dt(n,e,t,r,i){return n===e?!0:n==null||e==null||!j(n)&&!j(e)?n!==n&&e!==e:nc(n,e,t,r,dt,i)}function nc(n,e,t,r,i,f){var a=I(n),s=I(e),c=a?Rt:hn(n),p=s?Rt:hn(e);c=c==We?ne:c,p=p==We?ne:p;var d=c==ne,_=p==ne,v=c==p;if(v&&xe(n)){if(!xe(e))return!1;a=!0,d=!1}if(v&&!d)return f||(f=new Hn),a||Ze(n)?Qf(n,e,t,r,i,f):Ic(n,e,c,t,r,i,f);if(!(t&C)){var w=d&&q.call(n,"__wrapped__"),T=_&&q.call(e,"__wrapped__");if(w||T){var L=w?n.value():n,S=T?e.value():e;return f||(f=new Hn),i(L,S,t,r,f)}}return v?(f||(f=new Hn),Ec(n,e,t,r,i,f)):!1}function ec(n){return j(n)&&hn(n)==qn}function oi(n,e,t,r){var i=t.length,f=i,a=!r;if(n==null)return!f;for(n=$(n);i--;){var s=t[i];if(a&&s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<f;){s=t[i];var c=s[0],p=n[c],d=s[1];if(a&&s[2]){if(p===o&&!(c in n))return!1}else{var _=new Hn;if(r)var v=r(p,d,c,n,e,_);if(!(v===o?dt(d,p,C|z,r,_):v))return!1}}return!0}function wf(n){if(!Z(n)||Uc(n))return!1;var e=oe(n)?el:Ka;return e.test(Oe(n))}function tc(n){return j(n)&&gn(n)==tt}function rc(n){return j(n)&&hn(n)==$n}function ic(n){return j(n)&&dr(n.length)&&!!K[gn(n)]}function yf(n){return typeof n=="function"?n:n==null?wn:typeof n=="object"?I(n)?Tf(n[0],n[1]):Af(n):ko(n)}function ai(n){if(!mt(n))return ol(n);var e=[];for(var t in $(n))q.call(n,t)&&t!="constructor"&&e.push(t);return e}function uc(n){if(!Z(n))return $c(n);var e=mt(n),t=[];for(var r in n)r=="constructor"&&(e||!q.call(n,r))||t.push(r);return t}function si(n,e){return n<e}function bf(n,e){var t=-1,r=mn(n)?h(n.length):[];return de(n,function(i,f,a){r[++t]=e(i,f,a)}),r}function Af(n){var e=Ti(n);return e.length==1&&e[0][2]?ro(e[0][0],e[0][1]):function(t){return t===n||oi(t,n,e)}}function Tf(n,e){return Ri(n)&&to(e)?ro(Vn(n),e):function(t){var r=Fi(t,n);return r===o&&r===e?Ui(t,n):dt(e,r,C|z)}}function jt(n,e,t,r,i){n!==e&&ri(e,function(f,a){if(i||(i=new Hn),Z(f))fc(n,e,a,t,jt,r,i);else{var s=r?r(Ei(n,a),f,a+"",n,e,i):o;s===o&&(s=f),ei(n,a,s)}},xn)}function fc(n,e,t,r,i,f,a){var s=Ei(n,t),c=Ei(e,t),p=a.get(c);if(p){ei(n,t,p);return}var d=f?f(s,c,t+"",n,e,a):o,_=d===o;if(_){var v=I(c),w=!v&&xe(c),T=!v&&!w&&Ze(c);d=c,v||w||T?I(s)?d=s:en(s)?d=vn(s):w?(_=!1,d=Ff(c,!0)):T?(_=!1,d=Uf(c,!0)):d=[]:wt(c)||Le(c)?(d=s,Le(s)?d=Wo(s):(!Z(s)||oe(s))&&(d=eo(c))):_=!1}_&&(a.set(c,d),i(d,c,r,f,a),a.delete(c)),ei(n,t,d)}function Sf(n,e){var t=n.length;if(t)return e+=e<0?t:0,fe(e,t)?n[e]:o}function Rf(n,e,t){e.length?e=Y(e,function(f){return I(f)?function(a){return Ee(a,f.length===1?f[0]:f)}:f}):e=[wn];var r=-1;e=Y(e,An(A()));var i=bf(n,function(f,a,s){var c=Y(e,function(p){return p(f)});return{criteria:c,index:++r,value:f}});return Ps(i,function(f,a){return xc(f,a,t)})}function oc(n,e){return If(n,e,function(t,r){return Ui(n,r)})}function If(n,e,t){for(var r=-1,i=e.length,f={};++r<i;){var a=e[r],s=Ee(n,a);t(s,a)&&_t(f,ve(a,n),s)}return f}function ac(n){return function(e){return Ee(e,n)}}function li(n,e,t,r){var i=r?Ms:Ue,f=-1,a=e.length,s=n;for(n===e&&(e=vn(e)),t&&(s=Y(n,An(t)));++f<a;)for(var c=0,p=e[f],d=t?t(p):p;(c=i(s,d,c,r))>-1;)s!==n&&Ht.call(s,c,1),Ht.call(n,c,1);return n}function Ef(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==f){var f=i;fe(i)?Ht.call(n,i,1):pi(n,i)}}return n}function ci(n,e){return n+zt(af()*(e-n+1))}function sc(n,e,t,r){for(var i=-1,f=on(Kt((e-n)/(t||1)),0),a=h(f);f--;)a[r?f:++i]=n,n+=t;return a}function hi(n,e){var t="";if(!n||e<1||e>Pe)return t;do e%2&&(t+=n),e=zt(e/2),e&&(n+=n);while(e);return t}function M(n,e){return Ci(io(n,e,wn),n+"")}function lc(n){return cf(Je(n))}function cc(n,e){var t=Je(n);return sr(t,Ie(e,0,t.length))}function _t(n,e,t,r){if(!Z(n))return n;e=ve(e,n);for(var i=-1,f=e.length,a=f-1,s=n;s!=null&&++i<f;){var c=Vn(e[i]),p=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return n;if(i!=a){var d=s[c];p=r?r(d,c,s):o,p===o&&(p=Z(d)?d:fe(e[i+1])?[]:{})}ht(s,c,p),s=s[c]}return n}var Cf=Yt?function(n,e){return Yt.set(n,e),n}:wn,hc=kt?function(n,e){return kt(n,"toString",{configurable:!0,enumerable:!1,value:Ni(e),writable:!0})}:wn;function gc(n){return sr(Je(n))}function Wn(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var f=h(i);++r<i;)f[r]=n[r+e];return f}function pc(n,e){var t;return de(n,function(r,i,f){return t=e(r,i,f),!t}),!!t}function nr(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=_a){for(;r<i;){var f=r+i>>>1,a=n[f];a!==null&&!Sn(a)&&(t?a<=e:a<e)?r=f+1:i=f}return i}return gi(n,e,wn,t)}function gi(n,e,t,r){var i=0,f=n==null?0:n.length;if(f===0)return 0;e=t(e);for(var a=e!==e,s=e===null,c=Sn(e),p=e===o;i<f;){var d=zt((i+f)/2),_=t(n[d]),v=_!==o,w=_===null,T=_===_,L=Sn(_);if(a)var S=r||T;else p?S=T&&(r||v):s?S=T&&v&&(r||!w):c?S=T&&v&&!w&&(r||!L):w||L?S=!1:S=r?_<=e:_<e;S?i=d+1:f=d}return cn(f,da)}function Of(n,e){for(var t=-1,r=n.length,i=0,f=[];++t<r;){var a=n[t],s=e?e(a):a;if(!t||!kn(s,c)){var c=s;f[i++]=a===0?0:a}}return f}function Lf(n){return typeof n=="number"?n:Sn(n)?St:+n}function Tn(n){if(typeof n=="string")return n;if(I(n))return Y(n,Tn)+"";if(Sn(n))return sf?sf.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function _e(n,e,t){var r=-1,i=Pt,f=n.length,a=!0,s=[],c=s;if(t)a=!1,i=Gr;else if(f>=E){var p=e?null:Sc(n);if(p)return Bt(p);a=!1,i=ft,c=new Re}else c=e?[]:s;n:for(;++r<f;){var d=n[r],_=e?e(d):d;if(d=t||d!==0?d:0,a&&_===_){for(var v=c.length;v--;)if(c[v]===_)continue n;e&&c.push(_),s.push(d)}else i(c,_,t)||(c!==s&&c.push(_),s.push(d))}return s}function pi(n,e){return e=ve(e,n),n=uo(n,e),n==null||delete n[Vn(Bn(e))]}function Mf(n,e,t,r){return _t(n,e,t(Ee(n,e)),r)}function er(n,e,t,r){for(var i=n.length,f=r?i:-1;(r?f--:++f<i)&&e(n[f],f,n););return t?Wn(n,r?0:f,r?f+1:i):Wn(n,r?f+1:0,r?i:f)}function Pf(n,e){var t=n;return t instanceof W&&(t=t.value()),Hr(e,function(r,i){return i.func.apply(i.thisArg,he([r],i.args))},t)}function di(n,e,t){var r=n.length;if(r<2)return r?_e(n[0]):[];for(var i=-1,f=h(r);++i<r;)for(var a=n[i],s=-1;++s<r;)s!=i&&(f[i]=gt(f[i]||a,n[s],e,t));return _e(ln(f,1),e,t)}function Wf(n,e,t){for(var r=-1,i=n.length,f=e.length,a={};++r<i;){var s=r<f?e[r]:o;t(a,n[r],s)}return a}function _i(n){return en(n)?n:[]}function vi(n){return typeof n=="function"?n:wn}function ve(n,e){return I(n)?n:Ri(n,e)?[n]:so(N(n))}var dc=M;function me(n,e,t){var r=n.length;return t=t===o?r:t,!e&&t>=r?n:Wn(n,e,t)}var Bf=tl||function(n){return sn.clearTimeout(n)};function Ff(n,e){if(e)return n.slice();var t=n.length,r=tf?tf(t):new n.constructor(t);return n.copy(r),r}function mi(n){var e=new n.constructor(n.byteLength);return new $t(e).set(new $t(n)),e}function _c(n,e){var t=e?mi(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}function vc(n){var e=new n.constructor(n.source,mu.exec(n));return e.lastIndex=n.lastIndex,e}function mc(n){return ct?$(ct.call(n)):{}}function Uf(n,e){var t=e?mi(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}function Df(n,e){if(n!==e){var t=n!==o,r=n===null,i=n===n,f=Sn(n),a=e!==o,s=e===null,c=e===e,p=Sn(e);if(!s&&!p&&!f&&n>e||f&&a&&c&&!s&&!p||r&&a&&c||!t&&c||!i)return 1;if(!r&&!f&&!p&&n<e||p&&t&&i&&!r&&!f||s&&t&&i||!a&&i||!c)return-1}return 0}function xc(n,e,t){for(var r=-1,i=n.criteria,f=e.criteria,a=i.length,s=t.length;++r<a;){var c=Df(i[r],f[r]);if(c){if(r>=s)return c;var p=t[r];return c*(p=="desc"?-1:1)}}return n.index-e.index}function Nf(n,e,t,r){for(var i=-1,f=n.length,a=t.length,s=-1,c=e.length,p=on(f-a,0),d=h(c+p),_=!r;++s<c;)d[s]=e[s];for(;++i<a;)(_||i<f)&&(d[t[i]]=n[i]);for(;p--;)d[s++]=n[i++];return d}function qf(n,e,t,r){for(var i=-1,f=n.length,a=-1,s=t.length,c=-1,p=e.length,d=on(f-s,0),_=h(d+p),v=!r;++i<d;)_[i]=n[i];for(var w=i;++c<p;)_[w+c]=e[c];for(;++a<s;)(v||i<f)&&(_[w+t[a]]=n[i++]);return _}function vn(n,e){var t=-1,r=n.length;for(e||(e=h(r));++t<r;)e[t]=n[t];return e}function Jn(n,e,t,r){var i=!t;t||(t={});for(var f=-1,a=e.length;++f<a;){var s=e[f],c=r?r(t[s],n[s],s,t,n):o;c===o&&(c=n[s]),i?re(t,s,c):ht(t,s,c)}return t}function wc(n,e){return Jn(n,Si(n),e)}function yc(n,e){return Jn(n,jf(n),e)}function tr(n,e){return function(t,r){var i=I(t)?Rs:Hl,f=e?e():{};return i(t,n,A(r,2),f)}}function Ke(n){return M(function(e,t){var r=-1,i=t.length,f=i>1?t[i-1]:o,a=i>2?t[2]:o;for(f=n.length>3&&typeof f=="function"?(i--,f):o,a&&pn(t[0],t[1],a)&&(f=i<3?o:f,i=1),e=$(e);++r<i;){var s=t[r];s&&n(e,s,r,f)}return e})}function $f(n,e){return function(t,r){if(t==null)return t;if(!mn(t))return n(t,r);for(var i=t.length,f=e?i:-1,a=$(t);(e?f--:++f<i)&&r(a[f],f,a)!==!1;);return t}}function Gf(n){return function(e,t,r){for(var i=-1,f=$(e),a=r(e),s=a.length;s--;){var c=a[n?s:++i];if(t(f[c],c,f)===!1)break}return e}}function bc(n,e,t){var r=e&Q,i=vt(n);function f(){var a=this&&this!==sn&&this instanceof f?i:n;return a.apply(r?t:this,arguments)}return f}function Hf(n){return function(e){e=N(e);var t=De(e)?Gn(e):o,r=t?t[0]:e.charAt(0),i=t?me(t,1).join(""):e.slice(1);return r[n]()+i}}function ze(n){return function(e){return Hr(Go($o(e).replace(hs,"")),n,"")}}function vt(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ke(n.prototype),r=n.apply(t,e);return Z(r)?r:t}}function Ac(n,e,t){var r=vt(n);function i(){for(var f=arguments.length,a=h(f),s=f,c=Ye(i);s--;)a[s]=arguments[s];var p=f<3&&a[0]!==c&&a[f-1]!==c?[]:ge(a,c);if(f-=p.length,f<t)return Zf(n,e,rr,i.placeholder,o,a,p,o,o,t-f);var d=this&&this!==sn&&this instanceof i?r:n;return bn(d,this,a)}return i}function kf(n){return function(e,t,r){var i=$(e);if(!mn(e)){var f=A(t,3);e=an(e),t=function(s){return f(i[s],s,i)}}var a=n(e,t,r);return a>-1?i[f?e[a]:a]:o}}function Kf(n){return ue(function(e){var t=e.length,r=t,i=Mn.prototype.thru;for(n&&e.reverse();r--;){var f=e[r];if(typeof f!="function")throw new Ln(F);if(i&&!a&&or(f)=="wrapper")var a=new Mn([],!0)}for(r=a?r:t;++r<t;){f=e[r];var s=or(f),c=s=="wrapper"?Ai(f):o;c&&Ii(c[0])&&c[1]==(En|yn|Dn|zn)&&!c[4].length&&c[9]==1?a=a[or(c[0])].apply(a,c[3]):a=f.length==1&&Ii(f)?a[s]():a.thru(f)}return function(){var p=arguments,d=p[0];if(a&&p.length==1&&I(d))return a.plant(d).value();for(var _=0,v=t?e[_].apply(this,p):d;++_<t;)v=e[_].call(this,v);return v}})}function rr(n,e,t,r,i,f,a,s,c,p){var d=e&En,_=e&Q,v=e&Qn,w=e&(yn|jn),T=e&Me,L=v?o:vt(n);function S(){for(var P=arguments.length,B=h(P),Rn=P;Rn--;)B[Rn]=arguments[Rn];if(w)var dn=Ye(S),In=Bs(B,dn);if(r&&(B=Nf(B,r,i,w)),f&&(B=qf(B,f,a,w)),P-=In,w&&P<p){var tn=ge(B,dn);return Zf(n,e,rr,S.placeholder,t,B,tn,s,c,p-P)}var Kn=_?t:this,se=v?Kn[n]:n;return P=B.length,s?B=Hc(B,s):T&&P>1&&B.reverse(),d&&c<P&&(B.length=c),this&&this!==sn&&this instanceof S&&(se=L||vt(se)),se.apply(Kn,B)}return S}function zf(n,e){return function(t,r){return Xl(t,n,e(r),{})}}function ir(n,e){return function(t,r){var i;if(t===o&&r===o)return e;if(t!==o&&(i=t),r!==o){if(i===o)return r;typeof t=="string"||typeof r=="string"?(t=Tn(t),r=Tn(r)):(t=Lf(t),r=Lf(r)),i=n(t,r)}return i}}function xi(n){return ue(function(e){return e=Y(e,An(A())),M(function(t){var r=this;return n(e,function(i){return bn(i,r,t)})})})}function ur(n,e){e=e===o?" ":Tn(e);var t=e.length;if(t<2)return t?hi(e,n):e;var r=hi(e,Kt(n/Ne(e)));return De(e)?me(Gn(r),0,n).join(""):r.slice(0,n)}function Tc(n,e,t,r){var i=e&Q,f=vt(n);function a(){for(var s=-1,c=arguments.length,p=-1,d=r.length,_=h(d+c),v=this&&this!==sn&&this instanceof a?f:n;++p<d;)_[p]=r[p];for(;c--;)_[p++]=arguments[++s];return bn(v,i?t:this,_)}return a}function Yf(n){return function(e,t,r){return r&&typeof r!="number"&&pn(e,t,r)&&(t=r=o),e=ae(e),t===o?(t=e,e=0):t=ae(t),r=r===o?e<t?1:-1:ae(r),sc(e,t,r,n)}}function fr(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=Fn(e),t=Fn(t)),n(e,t)}}function Zf(n,e,t,r,i,f,a,s,c,p){var d=e&yn,_=d?a:o,v=d?o:a,w=d?f:o,T=d?o:f;e|=d?Dn:ye,e&=~(d?ye:Dn),e&le||(e&=-4);var L=[n,e,i,w,_,T,v,s,c,p],S=t.apply(o,L);return Ii(n)&&fo(S,L),S.placeholder=r,oo(S,n,e)}function wi(n){var e=fn[n];return function(t,r){if(t=Fn(t),r=r==null?0:cn(O(r),292),r&&of(t)){var i=(N(t)+"e").split("e"),f=e(i[0]+"e"+(+i[1]+r));return i=(N(f)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}var Sc=Ge&&1/Bt(new Ge([,-0]))[1]==Tt?function(n){return new Ge(n)}:Gi;function Jf(n){return function(e){var t=hn(e);return t==qn?Vr(e):t==$n?Gs(e):Ws(e,n(e))}}function ie(n,e,t,r,i,f,a,s){var c=e&Qn;if(!c&&typeof n!="function")throw new Ln(F);var p=r?r.length:0;if(p||(e&=-97,r=i=o),a=a===o?a:on(O(a),0),s=s===o?s:O(s),p-=i?i.length:0,e&ye){var d=r,_=i;r=i=o}var v=c?o:Ai(n),w=[n,e,t,r,i,d,_,f,a,s];if(v&&qc(w,v),n=w[0],e=w[1],t=w[2],r=w[3],i=w[4],s=w[9]=w[9]===o?c?0:n.length:on(w[9]-p,0),!s&&e&(yn|jn)&&(e&=-25),!e||e==Q)var T=bc(n,e,t);else e==yn||e==jn?T=Ac(n,e,s):(e==Dn||e==(Q|Dn))&&!i.length?T=Tc(n,e,t,r):T=rr.apply(o,w);var L=v?Cf:fo;return oo(L(T,w),n,e)}function Vf(n,e,t,r){return n===o||kn(n,$e[t])&&!q.call(r,t)?e:n}function Xf(n,e,t,r,i,f){return Z(n)&&Z(e)&&(f.set(e,n),jt(n,e,o,Xf,f),f.delete(e)),n}function Rc(n){return wt(n)?o:n}function Qf(n,e,t,r,i,f){var a=t&C,s=n.length,c=e.length;if(s!=c&&!(a&&c>s))return!1;var p=f.get(n),d=f.get(e);if(p&&d)return p==e&&d==n;var _=-1,v=!0,w=t&z?new Re:o;for(f.set(n,e),f.set(e,n);++_<s;){var T=n[_],L=e[_];if(r)var S=a?r(L,T,_,e,n,f):r(T,L,_,n,e,f);if(S!==o){if(S)continue;v=!1;break}if(w){if(!kr(e,function(P,B){if(!ft(w,B)&&(T===P||i(T,P,t,r,f)))return w.push(B)})){v=!1;break}}else if(!(T===L||i(T,L,t,r,f))){v=!1;break}}return f.delete(n),f.delete(e),v}function Ic(n,e,t,r,i,f,a){switch(t){case Be:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case ut:return!(n.byteLength!=e.byteLength||!f(new $t(n),new $t(e)));case je:case nt:case et:return kn(+n,+e);case It:return n.name==e.name&&n.message==e.message;case tt:case rt:return n==e+"";case qn:var s=Vr;case $n:var c=r&C;if(s||(s=Bt),n.size!=e.size&&!c)return!1;var p=a.get(n);if(p)return p==e;r|=z,a.set(n,e);var d=Qf(s(n),s(e),r,i,f,a);return a.delete(n),d;case Ct:if(ct)return ct.call(n)==ct.call(e)}return!1}function Ec(n,e,t,r,i,f){var a=t&C,s=yi(n),c=s.length,p=yi(e),d=p.length;if(c!=d&&!a)return!1;for(var _=c;_--;){var v=s[_];if(!(a?v in e:q.call(e,v)))return!1}var w=f.get(n),T=f.get(e);if(w&&T)return w==e&&T==n;var L=!0;f.set(n,e),f.set(e,n);for(var S=a;++_<c;){v=s[_];var P=n[v],B=e[v];if(r)var Rn=a?r(B,P,v,e,n,f):r(P,B,v,n,e,f);if(!(Rn===o?P===B||i(P,B,t,r,f):Rn)){L=!1;break}S||(S=v=="constructor")}if(L&&!S){var dn=n.constructor,In=e.constructor;dn!=In&&"constructor"in n&&"constructor"in e&&!(typeof dn=="function"&&dn instanceof dn&&typeof In=="function"&&In instanceof In)&&(L=!1)}return f.delete(n),f.delete(e),L}function ue(n){return Ci(io(n,o,go),n+"")}function yi(n){return mf(n,an,Si)}function bi(n){return mf(n,xn,jf)}var Ai=Yt?function(n){return Yt.get(n)}:Gi;function or(n){for(var e=n.name+"",t=He[e],r=q.call(He,e)?t.length:0;r--;){var i=t[r],f=i.func;if(f==null||f==n)return i.name}return e}function Ye(n){var e=q.call(u,"placeholder")?u:n;return e.placeholder}function A(){var n=u.iteratee||qi;return n=n===qi?yf:n,arguments.length?n(arguments[0],arguments[1]):n}function ar(n,e){var t=n.__data__;return Fc(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Ti(n){for(var e=an(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,to(i)]}return e}function Ce(n,e){var t=Ns(n,e);return wf(t)?t:o}function Cc(n){var e=q.call(n,Te),t=n[Te];try{n[Te]=o;var r=!0}catch{}var i=Nt.call(n);return r&&(e?n[Te]=t:delete n[Te]),i}var Si=Qr?function(n){return n==null?[]:(n=$(n),ce(Qr(n),function(e){return uf.call(n,e)}))}:Hi,jf=Qr?function(n){for(var e=[];n;)he(e,Si(n)),n=Gt(n);return e}:Hi,hn=gn;(jr&&hn(new jr(new ArrayBuffer(1)))!=Be||at&&hn(new at)!=qn||ni&&hn(ni.resolve())!=pu||Ge&&hn(new Ge)!=$n||st&&hn(new st)!=it)&&(hn=function(n){var e=gn(n),t=e==ne?n.constructor:o,r=t?Oe(t):"";if(r)switch(r){case cl:return Be;case hl:return qn;case gl:return pu;case pl:return $n;case dl:return it}return e});function Oc(n,e,t){for(var r=-1,i=t.length;++r<i;){var f=t[r],a=f.size;switch(f.type){case"drop":n+=a;break;case"dropRight":e-=a;break;case"take":e=cn(e,n+a);break;case"takeRight":n=on(n,e-a);break}}return{start:n,end:e}}function Lc(n){var e=n.match(Ua);return e?e[1].split(Da):[]}function no(n,e,t){e=ve(e,n);for(var r=-1,i=e.length,f=!1;++r<i;){var a=Vn(e[r]);if(!(f=n!=null&&t(n,a)))break;n=n[a]}return f||++r!=i?f:(i=n==null?0:n.length,!!i&&dr(i)&&fe(a,i)&&(I(n)||Le(n)))}function Mc(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&q.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function eo(n){return typeof n.constructor=="function"&&!mt(n)?ke(Gt(n)):{}}function Pc(n,e,t){var r=n.constructor;switch(e){case ut:return mi(n);case je:case nt:return new r(+n);case Be:return _c(n,t);case Tr:case Sr:case Rr:case Ir:case Er:case Cr:case Or:case Lr:case Mr:return Uf(n,t);case qn:return new r;case et:case rt:return new r(n);case tt:return vc(n);case $n:return new r;case Ct:return mc(n)}}function Wc(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(Fa,`{
/* [wrapped with `+e+`] */
`)}function Bc(n){return I(n)||Le(n)||!!(ff&&n&&n[ff])}function fe(n,e){var t=typeof n;return e=e??Pe,!!e&&(t=="number"||t!="symbol"&&Ya.test(n))&&n>-1&&n%1==0&&n<e}function pn(n,e,t){if(!Z(t))return!1;var r=typeof e;return(r=="number"?mn(t)&&fe(e,t.length):r=="string"&&e in t)?kn(t[e],n):!1}function Ri(n,e){if(I(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Sn(n)?!0:Ma.test(n)||!La.test(n)||e!=null&&n in $(e)}function Fc(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Ii(n){var e=or(n),t=u[e];if(typeof t!="function"||!(e in W.prototype))return!1;if(n===t)return!0;var r=Ai(t);return!!r&&n===r[0]}function Uc(n){return!!ef&&ef in n}var Dc=Ut?oe:ki;function mt(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||$e;return n===t}function to(n){return n===n&&!Z(n)}function ro(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==o||n in $(t))}}function Nc(n){var e=gr(n,function(r){return t.size===U&&t.clear(),r}),t=e.cache;return e}function qc(n,e){var t=n[1],r=e[1],i=t|r,f=i<(Q|Qn|En),a=r==En&&t==yn||r==En&&t==zn&&n[7].length<=e[8]||r==(En|zn)&&e[7].length<=e[8]&&t==yn;if(!(f||a))return n;r&Q&&(n[2]=e[2],i|=t&Q?0:le);var s=e[3];if(s){var c=n[3];n[3]=c?Nf(c,s,e[4]):s,n[4]=c?ge(n[3],X):e[4]}return s=e[5],s&&(c=n[5],n[5]=c?qf(c,s,e[6]):s,n[6]=c?ge(n[5],X):e[6]),s=e[7],s&&(n[7]=s),r&En&&(n[8]=n[8]==null?e[8]:cn(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}function $c(n){var e=[];if(n!=null)for(var t in $(n))e.push(t);return e}function Gc(n){return Nt.call(n)}function io(n,e,t){return e=on(e===o?n.length-1:e,0),function(){for(var r=arguments,i=-1,f=on(r.length-e,0),a=h(f);++i<f;)a[i]=r[e+i];i=-1;for(var s=h(e+1);++i<e;)s[i]=r[i];return s[e]=t(a),bn(n,this,s)}}function uo(n,e){return e.length<2?n:Ee(n,Wn(e,0,-1))}function Hc(n,e){for(var t=n.length,r=cn(e.length,t),i=vn(n);r--;){var f=e[r];n[r]=fe(f,t)?i[f]:o}return n}function Ei(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var fo=ao(Cf),xt=il||function(n,e){return sn.setTimeout(n,e)},Ci=ao(hc);function oo(n,e,t){var r=e+"";return Ci(n,Wc(r,kc(Lc(r),t)))}function ao(n){var e=0,t=0;return function(){var r=al(),i=nn-(r-t);if(t=r,i>0){if(++e>=Qe)return arguments[0]}else e=0;return n.apply(o,arguments)}}function sr(n,e){var t=-1,r=n.length,i=r-1;for(e=e===o?r:e;++t<e;){var f=ci(t,i),a=n[f];n[f]=n[t],n[t]=a}return n.length=e,n}var so=Nc(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Pa,function(t,r,i,f){e.push(i?f.replace($a,"$1"):r||t)}),e});function Vn(n){if(typeof n=="string"||Sn(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Oe(n){if(n!=null){try{return Dt.call(n)}catch{}try{return n+""}catch{}}return""}function kc(n,e){return On(va,function(t){var r="_."+t[0];e&t[1]&&!Pt(n,r)&&n.push(r)}),n.sort()}function lo(n){if(n instanceof W)return n.clone();var e=new Mn(n.__wrapped__,n.__chain__);return e.__actions__=vn(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}function Kc(n,e,t){(t?pn(n,e,t):e===o)?e=1:e=on(O(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,f=0,a=h(Kt(r/e));i<r;)a[f++]=Wn(n,i,i+=e);return a}function zc(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var f=n[e];f&&(i[r++]=f)}return i}function Yc(){var n=arguments.length;if(!n)return[];for(var e=h(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return he(I(t)?vn(t):[t],ln(e,1))}var Zc=M(function(n,e){return en(n)?gt(n,ln(e,1,en,!0)):[]}),Jc=M(function(n,e){var t=Bn(e);return en(t)&&(t=o),en(n)?gt(n,ln(e,1,en,!0),A(t,2)):[]}),Vc=M(function(n,e){var t=Bn(e);return en(t)&&(t=o),en(n)?gt(n,ln(e,1,en,!0),o,t):[]});function Xc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===o?1:O(e),Wn(n,e<0?0:e,r)):[]}function Qc(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===o?1:O(e),e=r-e,Wn(n,0,e<0?0:e)):[]}function jc(n,e){return n&&n.length?er(n,A(e,3),!0,!0):[]}function nh(n,e){return n&&n.length?er(n,A(e,3),!0):[]}function eh(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&pn(n,e,t)&&(t=0,r=i),Yl(n,e,t,r)):[]}function co(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:O(t);return i<0&&(i=on(r+i,0)),Wt(n,A(e,3),i)}function ho(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==o&&(i=O(t),i=t<0?on(r+i,0):cn(i,r-1)),Wt(n,A(e,3),i,!0)}function go(n){var e=n==null?0:n.length;return e?ln(n,1):[]}function th(n){var e=n==null?0:n.length;return e?ln(n,Tt):[]}function rh(n,e){var t=n==null?0:n.length;return t?(e=e===o?1:O(e),ln(n,e)):[]}function ih(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function po(n){return n&&n.length?n[0]:o}function uh(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:O(t);return i<0&&(i=on(r+i,0)),Ue(n,e,i)}function fh(n){var e=n==null?0:n.length;return e?Wn(n,0,-1):[]}var oh=M(function(n){var e=Y(n,_i);return e.length&&e[0]===n[0]?fi(e):[]}),ah=M(function(n){var e=Bn(n),t=Y(n,_i);return e===Bn(t)?e=o:t.pop(),t.length&&t[0]===n[0]?fi(t,A(e,2)):[]}),sh=M(function(n){var e=Bn(n),t=Y(n,_i);return e=typeof e=="function"?e:o,e&&t.pop(),t.length&&t[0]===n[0]?fi(t,o,e):[]});function lh(n,e){return n==null?"":fl.call(n,e)}function Bn(n){var e=n==null?0:n.length;return e?n[e-1]:o}function ch(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==o&&(i=O(t),i=i<0?on(r+i,0):cn(i,r-1)),e===e?ks(n,e,i):Wt(n,Yu,i,!0)}function hh(n,e){return n&&n.length?Sf(n,O(e)):o}var gh=M(_o);function _o(n,e){return n&&n.length&&e&&e.length?li(n,e):n}function ph(n,e,t){return n&&n.length&&e&&e.length?li(n,e,A(t,2)):n}function dh(n,e,t){return n&&n.length&&e&&e.length?li(n,e,o,t):n}var _h=ue(function(n,e){var t=n==null?0:n.length,r=ti(n,e);return Ef(n,Y(e,function(i){return fe(i,t)?+i:i}).sort(Df)),r});function vh(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],f=n.length;for(e=A(e,3);++r<f;){var a=n[r];e(a,r,n)&&(t.push(a),i.push(r))}return Ef(n,i),t}function Oi(n){return n==null?n:ll.call(n)}function mh(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&pn(n,e,t)?(e=0,t=r):(e=e==null?0:O(e),t=t===o?r:O(t)),Wn(n,e,t)):[]}function xh(n,e){return nr(n,e)}function wh(n,e,t){return gi(n,e,A(t,2))}function yh(n,e){var t=n==null?0:n.length;if(t){var r=nr(n,e);if(r<t&&kn(n[r],e))return r}return-1}function bh(n,e){return nr(n,e,!0)}function Ah(n,e,t){return gi(n,e,A(t,2),!0)}function Th(n,e){var t=n==null?0:n.length;if(t){var r=nr(n,e,!0)-1;if(kn(n[r],e))return r}return-1}function Sh(n){return n&&n.length?Of(n):[]}function Rh(n,e){return n&&n.length?Of(n,A(e,2)):[]}function Ih(n){var e=n==null?0:n.length;return e?Wn(n,1,e):[]}function Eh(n,e,t){return n&&n.length?(e=t||e===o?1:O(e),Wn(n,0,e<0?0:e)):[]}function Ch(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===o?1:O(e),e=r-e,Wn(n,e<0?0:e,r)):[]}function Oh(n,e){return n&&n.length?er(n,A(e,3),!1,!0):[]}function Lh(n,e){return n&&n.length?er(n,A(e,3)):[]}var Mh=M(function(n){return _e(ln(n,1,en,!0))}),Ph=M(function(n){var e=Bn(n);return en(e)&&(e=o),_e(ln(n,1,en,!0),A(e,2))}),Wh=M(function(n){var e=Bn(n);return e=typeof e=="function"?e:o,_e(ln(n,1,en,!0),o,e)});function Bh(n){return n&&n.length?_e(n):[]}function Fh(n,e){return n&&n.length?_e(n,A(e,2)):[]}function Uh(n,e){return e=typeof e=="function"?e:o,n&&n.length?_e(n,o,e):[]}function Li(n){if(!(n&&n.length))return[];var e=0;return n=ce(n,function(t){if(en(t))return e=on(t.length,e),!0}),Zr(e,function(t){return Y(n,Kr(t))})}function vo(n,e){if(!(n&&n.length))return[];var t=Li(n);return e==null?t:Y(t,function(r){return bn(e,o,r)})}var Dh=M(function(n,e){return en(n)?gt(n,e):[]}),Nh=M(function(n){return di(ce(n,en))}),qh=M(function(n){var e=Bn(n);return en(e)&&(e=o),di(ce(n,en),A(e,2))}),$h=M(function(n){var e=Bn(n);return e=typeof e=="function"?e:o,di(ce(n,en),o,e)}),Gh=M(Li);function Hh(n,e){return Wf(n||[],e||[],ht)}function kh(n,e){return Wf(n||[],e||[],_t)}var Kh=M(function(n){var e=n.length,t=e>1?n[e-1]:o;return t=typeof t=="function"?(n.pop(),t):o,vo(n,t)});function mo(n){var e=u(n);return e.__chain__=!0,e}function zh(n,e){return e(n),n}function lr(n,e){return e(n)}var Yh=ue(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(f){return ti(f,n)};return e>1||this.__actions__.length||!(r instanceof W)||!fe(t)?this.thru(i):(r=r.slice(t,+t+(e?1:0)),r.__actions__.push({func:lr,args:[i],thisArg:o}),new Mn(r,this.__chain__).thru(function(f){return e&&!f.length&&f.push(o),f}))});function Zh(){return mo(this)}function Jh(){return new Mn(this.value(),this.__chain__)}function Vh(){this.__values__===o&&(this.__values__=Mo(this.value()));var n=this.__index__>=this.__values__.length,e=n?o:this.__values__[this.__index__++];return{done:n,value:e}}function Xh(){return this}function Qh(n){for(var e,t=this;t instanceof Jt;){var r=lo(t);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;t=t.__wrapped__}return i.__wrapped__=n,e}function jh(){var n=this.__wrapped__;if(n instanceof W){var e=n;return this.__actions__.length&&(e=new W(this)),e=e.reverse(),e.__actions__.push({func:lr,args:[Oi],thisArg:o}),new Mn(e,this.__chain__)}return this.thru(Oi)}function ng(){return Pf(this.__wrapped__,this.__actions__)}var eg=tr(function(n,e,t){q.call(n,t)?++n[t]:re(n,t,1)});function tg(n,e,t){var r=I(n)?Ku:zl;return t&&pn(n,e,t)&&(e=o),r(n,A(e,3))}function rg(n,e){var t=I(n)?ce:_f;return t(n,A(e,3))}var ig=kf(co),ug=kf(ho);function fg(n,e){return ln(cr(n,e),1)}function og(n,e){return ln(cr(n,e),Tt)}function ag(n,e,t){return t=t===o?1:O(t),ln(cr(n,e),t)}function xo(n,e){var t=I(n)?On:de;return t(n,A(e,3))}function wo(n,e){var t=I(n)?Is:df;return t(n,A(e,3))}var sg=tr(function(n,e,t){q.call(n,t)?n[t].push(e):re(n,t,[e])});function lg(n,e,t,r){n=mn(n)?n:Je(n),t=t&&!r?O(t):0;var i=n.length;return t<0&&(t=on(i+t,0)),_r(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&Ue(n,e,t)>-1}var cg=M(function(n,e,t){var r=-1,i=typeof e=="function",f=mn(n)?h(n.length):[];return de(n,function(a){f[++r]=i?bn(e,a,t):pt(a,e,t)}),f}),hg=tr(function(n,e,t){re(n,t,e)});function cr(n,e){var t=I(n)?Y:bf;return t(n,A(e,3))}function gg(n,e,t,r){return n==null?[]:(I(e)||(e=e==null?[]:[e]),t=r?o:t,I(t)||(t=t==null?[]:[t]),Rf(n,e,t))}var pg=tr(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});function dg(n,e,t){var r=I(n)?Hr:Ju,i=arguments.length<3;return r(n,A(e,4),t,i,de)}function _g(n,e,t){var r=I(n)?Es:Ju,i=arguments.length<3;return r(n,A(e,4),t,i,df)}function vg(n,e){var t=I(n)?ce:_f;return t(n,pr(A(e,3)))}function mg(n){var e=I(n)?cf:lc;return e(n)}function xg(n,e,t){(t?pn(n,e,t):e===o)?e=1:e=O(e);var r=I(n)?$l:cc;return r(n,e)}function wg(n){var e=I(n)?Gl:gc;return e(n)}function yg(n){if(n==null)return 0;if(mn(n))return _r(n)?Ne(n):n.length;var e=hn(n);return e==qn||e==$n?n.size:ai(n).length}function bg(n,e,t){var r=I(n)?kr:pc;return t&&pn(n,e,t)&&(e=o),r(n,A(e,3))}var Ag=M(function(n,e){if(n==null)return[];var t=e.length;return t>1&&pn(n,e[0],e[1])?e=[]:t>2&&pn(e[0],e[1],e[2])&&(e=[e[0]]),Rf(n,ln(e,1),[])}),hr=rl||function(){return sn.Date.now()};function Tg(n,e){if(typeof e!="function")throw new Ln(F);return n=O(n),function(){if(--n<1)return e.apply(this,arguments)}}function yo(n,e,t){return e=t?o:e,e=n&&e==null?n.length:e,ie(n,En,o,o,o,o,e)}function bo(n,e){var t;if(typeof e!="function")throw new Ln(F);return n=O(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=o),t}}var Mi=M(function(n,e,t){var r=Q;if(t.length){var i=ge(t,Ye(Mi));r|=Dn}return ie(n,r,e,t,i)}),Ao=M(function(n,e,t){var r=Q|Qn;if(t.length){var i=ge(t,Ye(Ao));r|=Dn}return ie(e,r,n,t,i)});function To(n,e,t){e=t?o:e;var r=ie(n,yn,o,o,o,o,o,e);return r.placeholder=To.placeholder,r}function So(n,e,t){e=t?o:e;var r=ie(n,jn,o,o,o,o,o,e);return r.placeholder=So.placeholder,r}function Ro(n,e,t){var r,i,f,a,s,c,p=0,d=!1,_=!1,v=!0;if(typeof n!="function")throw new Ln(F);e=Fn(e)||0,Z(t)&&(d=!!t.leading,_="maxWait"in t,f=_?on(Fn(t.maxWait)||0,e):f,v="trailing"in t?!!t.trailing:v);function w(tn){var Kn=r,se=i;return r=i=o,p=tn,a=n.apply(se,Kn),a}function T(tn){return p=tn,s=xt(P,e),d?w(tn):a}function L(tn){var Kn=tn-c,se=tn-p,Ko=e-Kn;return _?cn(Ko,f-se):Ko}function S(tn){var Kn=tn-c,se=tn-p;return c===o||Kn>=e||Kn<0||_&&se>=f}function P(){var tn=hr();if(S(tn))return B(tn);s=xt(P,L(tn))}function B(tn){return s=o,v&&r?w(tn):(r=i=o,a)}function Rn(){s!==o&&Bf(s),p=0,r=c=i=s=o}function dn(){return s===o?a:B(hr())}function In(){var tn=hr(),Kn=S(tn);if(r=arguments,i=this,c=tn,Kn){if(s===o)return T(c);if(_)return Bf(s),s=xt(P,e),w(c)}return s===o&&(s=xt(P,e)),a}return In.cancel=Rn,In.flush=dn,In}var Sg=M(function(n,e){return pf(n,1,e)}),Rg=M(function(n,e,t){return pf(n,Fn(e)||0,t)});function Ig(n){return ie(n,Me)}function gr(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new Ln(F);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],f=t.cache;if(f.has(i))return f.get(i);var a=n.apply(this,r);return t.cache=f.set(i,a)||f,a};return t.cache=new(gr.Cache||te),t}gr.Cache=te;function pr(n){if(typeof n!="function")throw new Ln(F);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function Eg(n){return bo(2,n)}var Cg=dc(function(n,e){e=e.length==1&&I(e[0])?Y(e[0],An(A())):Y(ln(e,1),An(A()));var t=e.length;return M(function(r){for(var i=-1,f=cn(r.length,t);++i<f;)r[i]=e[i].call(this,r[i]);return bn(n,this,r)})}),Pi=M(function(n,e){var t=ge(e,Ye(Pi));return ie(n,Dn,o,e,t)}),Io=M(function(n,e){var t=ge(e,Ye(Io));return ie(n,ye,o,e,t)}),Og=ue(function(n,e){return ie(n,zn,o,o,o,e)});function Lg(n,e){if(typeof n!="function")throw new Ln(F);return e=e===o?e:O(e),M(n,e)}function Mg(n,e){if(typeof n!="function")throw new Ln(F);return e=e==null?0:on(O(e),0),M(function(t){var r=t[e],i=me(t,0,e);return r&&he(i,r),bn(n,this,i)})}function Pg(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new Ln(F);return Z(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Ro(n,e,{leading:r,maxWait:e,trailing:i})}function Wg(n){return yo(n,1)}function Bg(n,e){return Pi(vi(e),n)}function Fg(){if(!arguments.length)return[];var n=arguments[0];return I(n)?n:[n]}function Ug(n){return Pn(n,k)}function Dg(n,e){return e=typeof e=="function"?e:o,Pn(n,k,e)}function Ng(n){return Pn(n,un|k)}function qg(n,e){return e=typeof e=="function"?e:o,Pn(n,un|k,e)}function $g(n,e){return e==null||gf(n,e,an(e))}function kn(n,e){return n===e||n!==n&&e!==e}var Gg=fr(ui),Hg=fr(function(n,e){return n>=e}),Le=xf(function(){return arguments}())?xf:function(n){return j(n)&&q.call(n,"callee")&&!uf.call(n,"callee")},I=h.isArray,kg=Nu?An(Nu):Ql;function mn(n){return n!=null&&dr(n.length)&&!oe(n)}function en(n){return j(n)&&mn(n)}function Kg(n){return n===!0||n===!1||j(n)&&gn(n)==je}var xe=ul||ki,zg=qu?An(qu):jl;function Yg(n){return j(n)&&n.nodeType===1&&!wt(n)}function Zg(n){if(n==null)return!0;if(mn(n)&&(I(n)||typeof n=="string"||typeof n.splice=="function"||xe(n)||Ze(n)||Le(n)))return!n.length;var e=hn(n);if(e==qn||e==$n)return!n.size;if(mt(n))return!ai(n).length;for(var t in n)if(q.call(n,t))return!1;return!0}function Jg(n,e){return dt(n,e)}function Vg(n,e,t){t=typeof t=="function"?t:o;var r=t?t(n,e):o;return r===o?dt(n,e,o,t):!!r}function Wi(n){if(!j(n))return!1;var e=gn(n);return e==It||e==xa||typeof n.message=="string"&&typeof n.name=="string"&&!wt(n)}function Xg(n){return typeof n=="number"&&of(n)}function oe(n){if(!Z(n))return!1;var e=gn(n);return e==Et||e==gu||e==ma||e==ya}function Eo(n){return typeof n=="number"&&n==O(n)}function dr(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Pe}function Z(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function j(n){return n!=null&&typeof n=="object"}var Co=$u?An($u):ec;function Qg(n,e){return n===e||oi(n,e,Ti(e))}function jg(n,e,t){return t=typeof t=="function"?t:o,oi(n,e,Ti(e),t)}function np(n){return Oo(n)&&n!=+n}function ep(n){if(Dc(n))throw new R(J);return wf(n)}function tp(n){return n===null}function rp(n){return n==null}function Oo(n){return typeof n=="number"||j(n)&&gn(n)==et}function wt(n){if(!j(n)||gn(n)!=ne)return!1;var e=Gt(n);if(e===null)return!0;var t=q.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Dt.call(t)==js}var Bi=Gu?An(Gu):tc;function ip(n){return Eo(n)&&n>=-9007199254740991&&n<=Pe}var Lo=Hu?An(Hu):rc;function _r(n){return typeof n=="string"||!I(n)&&j(n)&&gn(n)==rt}function Sn(n){return typeof n=="symbol"||j(n)&&gn(n)==Ct}var Ze=ku?An(ku):ic;function up(n){return n===o}function fp(n){return j(n)&&hn(n)==it}function op(n){return j(n)&&gn(n)==Aa}var ap=fr(si),sp=fr(function(n,e){return n<=e});function Mo(n){if(!n)return[];if(mn(n))return _r(n)?Gn(n):vn(n);if(ot&&n[ot])return $s(n[ot]());var e=hn(n),t=e==qn?Vr:e==$n?Bt:Je;return t(n)}function ae(n){if(!n)return n===0?n:0;if(n=Fn(n),n===Tt||n===-1/0){var e=n<0?-1:1;return e*pa}return n===n?n:0}function O(n){var e=ae(n),t=e%1;return e===e?t?e-t:e:0}function Po(n){return n?Ie(O(n),0,Yn):0}function Fn(n){if(typeof n=="number")return n;if(Sn(n))return St;if(Z(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Z(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Vu(n);var t=ka.test(n);return t||za.test(n)?Ts(n.slice(2),t?2:8):Ha.test(n)?St:+n}function Wo(n){return Jn(n,xn(n))}function lp(n){return n?Ie(O(n),-9007199254740991,Pe):n===0?n:0}function N(n){return n==null?"":Tn(n)}var cp=Ke(function(n,e){if(mt(e)||mn(e)){Jn(e,an(e),n);return}for(var t in e)q.call(e,t)&&ht(n,t,e[t])}),Bo=Ke(function(n,e){Jn(e,xn(e),n)}),vr=Ke(function(n,e,t,r){Jn(e,xn(e),n,r)}),hp=Ke(function(n,e,t,r){Jn(e,an(e),n,r)}),gp=ue(ti);function pp(n,e){var t=ke(n);return e==null?t:hf(t,e)}var dp=M(function(n,e){n=$(n);var t=-1,r=e.length,i=r>2?e[2]:o;for(i&&pn(e[0],e[1],i)&&(r=1);++t<r;)for(var f=e[t],a=xn(f),s=-1,c=a.length;++s<c;){var p=a[s],d=n[p];(d===o||kn(d,$e[p])&&!q.call(n,p))&&(n[p]=f[p])}return n}),_p=M(function(n){return n.push(o,Xf),bn(Fo,o,n)});function vp(n,e){return zu(n,A(e,3),Zn)}function mp(n,e){return zu(n,A(e,3),ii)}function xp(n,e){return n==null?n:ri(n,A(e,3),xn)}function wp(n,e){return n==null?n:vf(n,A(e,3),xn)}function yp(n,e){return n&&Zn(n,A(e,3))}function bp(n,e){return n&&ii(n,A(e,3))}function Ap(n){return n==null?[]:Qt(n,an(n))}function Tp(n){return n==null?[]:Qt(n,xn(n))}function Fi(n,e,t){var r=n==null?o:Ee(n,e);return r===o?t:r}function Sp(n,e){return n!=null&&no(n,e,Zl)}function Ui(n,e){return n!=null&&no(n,e,Jl)}var Rp=zf(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=Nt.call(e)),n[e]=t},Ni(wn)),Ip=zf(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=Nt.call(e)),q.call(n,e)?n[e].push(t):n[e]=[t]},A),Ep=M(pt);function an(n){return mn(n)?lf(n):ai(n)}function xn(n){return mn(n)?lf(n,!0):uc(n)}function Cp(n,e){var t={};return e=A(e,3),Zn(n,function(r,i,f){re(t,e(r,i,f),r)}),t}function Op(n,e){var t={};return e=A(e,3),Zn(n,function(r,i,f){re(t,i,e(r,i,f))}),t}var Lp=Ke(function(n,e,t){jt(n,e,t)}),Fo=Ke(function(n,e,t,r){jt(n,e,t,r)}),Mp=ue(function(n,e){var t={};if(n==null)return t;var r=!1;e=Y(e,function(f){return f=ve(f,n),r||(r=f.length>1),f}),Jn(n,bi(n),t),r&&(t=Pn(t,un|Xn|k,Rc));for(var i=e.length;i--;)pi(t,e[i]);return t});function Pp(n,e){return Uo(n,pr(A(e)))}var Wp=ue(function(n,e){return n==null?{}:oc(n,e)});function Uo(n,e){if(n==null)return{};var t=Y(bi(n),function(r){return[r]});return e=A(e),If(n,t,function(r,i){return e(r,i[0])})}function Bp(n,e,t){e=ve(e,n);var r=-1,i=e.length;for(i||(i=1,n=o);++r<i;){var f=n==null?o:n[Vn(e[r])];f===o&&(r=i,f=t),n=oe(f)?f.call(n):f}return n}function Fp(n,e,t){return n==null?n:_t(n,e,t)}function Up(n,e,t,r){return r=typeof r=="function"?r:o,n==null?n:_t(n,e,t,r)}var Do=Jf(an),No=Jf(xn);function Dp(n,e,t){var r=I(n),i=r||xe(n)||Ze(n);if(e=A(e,4),t==null){var f=n&&n.constructor;i?t=r?new f:[]:Z(n)?t=oe(f)?ke(Gt(n)):{}:t={}}return(i?On:Zn)(n,function(a,s,c){return e(t,a,s,c)}),t}function Np(n,e){return n==null?!0:pi(n,e)}function qp(n,e,t){return n==null?n:Mf(n,e,vi(t))}function $p(n,e,t,r){return r=typeof r=="function"?r:o,n==null?n:Mf(n,e,vi(t),r)}function Je(n){return n==null?[]:Jr(n,an(n))}function Gp(n){return n==null?[]:Jr(n,xn(n))}function Hp(n,e,t){return t===o&&(t=e,e=o),t!==o&&(t=Fn(t),t=t===t?t:0),e!==o&&(e=Fn(e),e=e===e?e:0),Ie(Fn(n),e,t)}function kp(n,e,t){return e=ae(e),t===o?(t=e,e=0):t=ae(t),n=Fn(n),Vl(n,e,t)}function Kp(n,e,t){if(t&&typeof t!="boolean"&&pn(n,e,t)&&(e=t=o),t===o&&(typeof e=="boolean"?(t=e,e=o):typeof n=="boolean"&&(t=n,n=o)),n===o&&e===o?(n=0,e=1):(n=ae(n),e===o?(e=n,n=0):e=ae(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=af();return cn(n+i*(e-n+As("1e-"+((i+"").length-1))),e)}return ci(n,e)}var zp=ze(function(n,e,t){return e=e.toLowerCase(),n+(t?qo(e):e)});function qo(n){return Di(N(n).toLowerCase())}function $o(n){return n=N(n),n&&n.replace(Za,Fs).replace(gs,"")}function Yp(n,e,t){n=N(n),e=Tn(e);var r=n.length;t=t===o?r:Ie(O(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}function Zp(n){return n=N(n),n&&Ea.test(n)?n.replace(_u,Us):n}function Jp(n){return n=N(n),n&&Wa.test(n)?n.replace(Pr,"\\$&"):n}var Vp=ze(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),Xp=ze(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),Qp=Hf("toLowerCase");function jp(n,e,t){n=N(n),e=O(e);var r=e?Ne(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return ur(zt(i),t)+n+ur(Kt(i),t)}function nd(n,e,t){n=N(n),e=O(e);var r=e?Ne(n):0;return e&&r<e?n+ur(e-r,t):n}function ed(n,e,t){n=N(n),e=O(e);var r=e?Ne(n):0;return e&&r<e?ur(e-r,t)+n:n}function td(n,e,t){return t||e==null?e=0:e&&(e=+e),sl(N(n).replace(Wr,""),e||0)}function rd(n,e,t){return(t?pn(n,e,t):e===o)?e=1:e=O(e),hi(N(n),e)}function id(){var n=arguments,e=N(n[0]);return n.length<3?e:e.replace(n[1],n[2])}var ud=ze(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});function fd(n,e,t){return t&&typeof t!="number"&&pn(n,e,t)&&(e=t=o),t=t===o?Yn:t>>>0,t?(n=N(n),n&&(typeof e=="string"||e!=null&&!Bi(e))&&(e=Tn(e),!e&&De(n))?me(Gn(n),0,t):n.split(e,t)):[]}var od=ze(function(n,e,t){return n+(t?" ":"")+Di(e)});function ad(n,e,t){return n=N(n),t=t==null?0:Ie(O(t),0,n.length),e=Tn(e),n.slice(t,t+e.length)==e}function sd(n,e,t){var r=u.templateSettings;t&&pn(n,e,t)&&(e=o),n=N(n),e=vr({},e,r,Vf);var i=vr({},e.imports,r.imports,Vf),f=an(i),a=Jr(i,f),s,c,p=0,d=e.interpolate||Ot,_="__p += '",v=Xr((e.escape||Ot).source+"|"+d.source+"|"+(d===vu?Ga:Ot).source+"|"+(e.evaluate||Ot).source+"|$","g"),w="//# sourceURL="+(q.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ms+"]")+`
`;n.replace(v,function(S,P,B,Rn,dn,In){return B||(B=Rn),_+=n.slice(p,In).replace(Ja,Ds),P&&(s=!0,_+=`' +
__e(`+P+`) +
'`),dn&&(c=!0,_+=`';
`+dn+`;
__p += '`),B&&(_+=`' +
((__t = (`+B+`)) == null ? '' : __t) +
'`),p=In+S.length,S}),_+=`';
`;var T=q.call(e,"variable")&&e.variable;if(!T)_=`with (obj) {
`+_+`
}
`;else if(qa.test(T))throw new R(V);_=(c?_.replace(Ta,""):_).replace(Sa,"$1").replace(Ra,"$1;"),_="function("+(T||"obj")+`) {
`+(T?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_+`return __p
}`;var L=Ho(function(){return D(f,w+"return "+_).apply(o,a)});if(L.source=_,Wi(L))throw L;return L}function ld(n){return N(n).toLowerCase()}function cd(n){return N(n).toUpperCase()}function hd(n,e,t){if(n=N(n),n&&(t||e===o))return Vu(n);if(!n||!(e=Tn(e)))return n;var r=Gn(n),i=Gn(e),f=Xu(r,i),a=Qu(r,i)+1;return me(r,f,a).join("")}function gd(n,e,t){if(n=N(n),n&&(t||e===o))return n.slice(0,nf(n)+1);if(!n||!(e=Tn(e)))return n;var r=Gn(n),i=Qu(r,Gn(e))+1;return me(r,0,i).join("")}function pd(n,e,t){if(n=N(n),n&&(t||e===o))return n.replace(Wr,"");if(!n||!(e=Tn(e)))return n;var r=Gn(n),i=Xu(r,Gn(e));return me(r,i).join("")}function dd(n,e){var t=br,r=Ar;if(Z(e)){var i="separator"in e?e.separator:i;t="length"in e?O(e.length):t,r="omission"in e?Tn(e.omission):r}n=N(n);var f=n.length;if(De(n)){var a=Gn(n);f=a.length}if(t>=f)return n;var s=t-Ne(r);if(s<1)return r;var c=a?me(a,0,s).join(""):n.slice(0,s);if(i===o)return c+r;if(a&&(s+=c.length-s),Bi(i)){if(n.slice(s).search(i)){var p,d=c;for(i.global||(i=Xr(i.source,N(mu.exec(i))+"g")),i.lastIndex=0;p=i.exec(d);)var _=p.index;c=c.slice(0,_===o?s:_)}}else if(n.indexOf(Tn(i),s)!=s){var v=c.lastIndexOf(i);v>-1&&(c=c.slice(0,v))}return c+r}function _d(n){return n=N(n),n&&Ia.test(n)?n.replace(du,Ks):n}var vd=ze(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()}),Di=Hf("toUpperCase");function Go(n,e,t){return n=N(n),e=t?o:e,e===o?qs(n)?Zs(n):Ls(n):n.match(e)||[]}var Ho=M(function(n,e){try{return bn(n,o,e)}catch(t){return Wi(t)?t:new R(t)}}),md=ue(function(n,e){return On(e,function(t){t=Vn(t),re(n,t,Mi(n[t],n))}),n});function xd(n){var e=n==null?0:n.length,t=A();return n=e?Y(n,function(r){if(typeof r[1]!="function")throw new Ln(F);return[t(r[0]),r[1]]}):[],M(function(r){for(var i=-1;++i<e;){var f=n[i];if(bn(f[0],this,r))return bn(f[1],this,r)}})}function wd(n){return Kl(Pn(n,un))}function Ni(n){return function(){return n}}function yd(n,e){return n==null||n!==n?e:n}var bd=Kf(),Ad=Kf(!0);function wn(n){return n}function qi(n){return yf(typeof n=="function"?n:Pn(n,un))}function Td(n){return Af(Pn(n,un))}function Sd(n,e){return Tf(n,Pn(e,un))}var Rd=M(function(n,e){return function(t){return pt(t,n,e)}}),Id=M(function(n,e){return function(t){return pt(n,t,e)}});function $i(n,e,t){var r=an(e),i=Qt(e,r);t==null&&!(Z(e)&&(i.length||!r.length))&&(t=e,e=n,n=this,i=Qt(e,an(e)));var f=!(Z(t)&&"chain"in t)||!!t.chain,a=oe(n);return On(i,function(s){var c=e[s];n[s]=c,a&&(n.prototype[s]=function(){var p=this.__chain__;if(f||p){var d=n(this.__wrapped__),_=d.__actions__=vn(this.__actions__);return _.push({func:c,args:arguments,thisArg:n}),d.__chain__=p,d}return c.apply(n,he([this.value()],arguments))})}),n}function Ed(){return sn._===this&&(sn._=nl),this}function Gi(){}function Cd(n){return n=O(n),M(function(e){return Sf(e,n)})}var Od=xi(Y),Ld=xi(Ku),Md=xi(kr);function ko(n){return Ri(n)?Kr(Vn(n)):ac(n)}function Pd(n){return function(e){return n==null?o:Ee(n,e)}}var Wd=Yf(),Bd=Yf(!0);function Hi(){return[]}function ki(){return!1}function Fd(){return{}}function Ud(){return""}function Dd(){return!0}function Nd(n,e){if(n=O(n),n<1||n>Pe)return[];var t=Yn,r=cn(n,Yn);e=A(e),n-=Yn;for(var i=Zr(r,e);++t<n;)e(t);return i}function qd(n){return I(n)?Y(n,Vn):Sn(n)?[n]:vn(so(N(n)))}function $d(n){var e=++Qs;return N(n)+e}var Gd=ir(function(n,e){return n+e},0),Hd=wi("ceil"),kd=ir(function(n,e){return n/e},1),Kd=wi("floor");function zd(n){return n&&n.length?Xt(n,wn,ui):o}function Yd(n,e){return n&&n.length?Xt(n,A(e,2),ui):o}function Zd(n){return Zu(n,wn)}function Jd(n,e){return Zu(n,A(e,2))}function Vd(n){return n&&n.length?Xt(n,wn,si):o}function Xd(n,e){return n&&n.length?Xt(n,A(e,2),si):o}var Qd=ir(function(n,e){return n*e},1),jd=wi("round"),n_=ir(function(n,e){return n-e},0);function e_(n){return n&&n.length?Yr(n,wn):0}function t_(n,e){return n&&n.length?Yr(n,A(e,2)):0}return u.after=Tg,u.ary=yo,u.assign=cp,u.assignIn=Bo,u.assignInWith=vr,u.assignWith=hp,u.at=gp,u.before=bo,u.bind=Mi,u.bindAll=md,u.bindKey=Ao,u.castArray=Fg,u.chain=mo,u.chunk=Kc,u.compact=zc,u.concat=Yc,u.cond=xd,u.conforms=wd,u.constant=Ni,u.countBy=eg,u.create=pp,u.curry=To,u.curryRight=So,u.debounce=Ro,u.defaults=dp,u.defaultsDeep=_p,u.defer=Sg,u.delay=Rg,u.difference=Zc,u.differenceBy=Jc,u.differenceWith=Vc,u.drop=Xc,u.dropRight=Qc,u.dropRightWhile=jc,u.dropWhile=nh,u.fill=eh,u.filter=rg,u.flatMap=fg,u.flatMapDeep=og,u.flatMapDepth=ag,u.flatten=go,u.flattenDeep=th,u.flattenDepth=rh,u.flip=Ig,u.flow=bd,u.flowRight=Ad,u.fromPairs=ih,u.functions=Ap,u.functionsIn=Tp,u.groupBy=sg,u.initial=fh,u.intersection=oh,u.intersectionBy=ah,u.intersectionWith=sh,u.invert=Rp,u.invertBy=Ip,u.invokeMap=cg,u.iteratee=qi,u.keyBy=hg,u.keys=an,u.keysIn=xn,u.map=cr,u.mapKeys=Cp,u.mapValues=Op,u.matches=Td,u.matchesProperty=Sd,u.memoize=gr,u.merge=Lp,u.mergeWith=Fo,u.method=Rd,u.methodOf=Id,u.mixin=$i,u.negate=pr,u.nthArg=Cd,u.omit=Mp,u.omitBy=Pp,u.once=Eg,u.orderBy=gg,u.over=Od,u.overArgs=Cg,u.overEvery=Ld,u.overSome=Md,u.partial=Pi,u.partialRight=Io,u.partition=pg,u.pick=Wp,u.pickBy=Uo,u.property=ko,u.propertyOf=Pd,u.pull=gh,u.pullAll=_o,u.pullAllBy=ph,u.pullAllWith=dh,u.pullAt=_h,u.range=Wd,u.rangeRight=Bd,u.rearg=Og,u.reject=vg,u.remove=vh,u.rest=Lg,u.reverse=Oi,u.sampleSize=xg,u.set=Fp,u.setWith=Up,u.shuffle=wg,u.slice=mh,u.sortBy=Ag,u.sortedUniq=Sh,u.sortedUniqBy=Rh,u.split=fd,u.spread=Mg,u.tail=Ih,u.take=Eh,u.takeRight=Ch,u.takeRightWhile=Oh,u.takeWhile=Lh,u.tap=zh,u.throttle=Pg,u.thru=lr,u.toArray=Mo,u.toPairs=Do,u.toPairsIn=No,u.toPath=qd,u.toPlainObject=Wo,u.transform=Dp,u.unary=Wg,u.union=Mh,u.unionBy=Ph,u.unionWith=Wh,u.uniq=Bh,u.uniqBy=Fh,u.uniqWith=Uh,u.unset=Np,u.unzip=Li,u.unzipWith=vo,u.update=qp,u.updateWith=$p,u.values=Je,u.valuesIn=Gp,u.without=Dh,u.words=Go,u.wrap=Bg,u.xor=Nh,u.xorBy=qh,u.xorWith=$h,u.zip=Gh,u.zipObject=Hh,u.zipObjectDeep=kh,u.zipWith=Kh,u.entries=Do,u.entriesIn=No,u.extend=Bo,u.extendWith=vr,$i(u,u),u.add=Gd,u.attempt=Ho,u.camelCase=zp,u.capitalize=qo,u.ceil=Hd,u.clamp=Hp,u.clone=Ug,u.cloneDeep=Ng,u.cloneDeepWith=qg,u.cloneWith=Dg,u.conformsTo=$g,u.deburr=$o,u.defaultTo=yd,u.divide=kd,u.endsWith=Yp,u.eq=kn,u.escape=Zp,u.escapeRegExp=Jp,u.every=tg,u.find=ig,u.findIndex=co,u.findKey=vp,u.findLast=ug,u.findLastIndex=ho,u.findLastKey=mp,u.floor=Kd,u.forEach=xo,u.forEachRight=wo,u.forIn=xp,u.forInRight=wp,u.forOwn=yp,u.forOwnRight=bp,u.get=Fi,u.gt=Gg,u.gte=Hg,u.has=Sp,u.hasIn=Ui,u.head=po,u.identity=wn,u.includes=lg,u.indexOf=uh,u.inRange=kp,u.invoke=Ep,u.isArguments=Le,u.isArray=I,u.isArrayBuffer=kg,u.isArrayLike=mn,u.isArrayLikeObject=en,u.isBoolean=Kg,u.isBuffer=xe,u.isDate=zg,u.isElement=Yg,u.isEmpty=Zg,u.isEqual=Jg,u.isEqualWith=Vg,u.isError=Wi,u.isFinite=Xg,u.isFunction=oe,u.isInteger=Eo,u.isLength=dr,u.isMap=Co,u.isMatch=Qg,u.isMatchWith=jg,u.isNaN=np,u.isNative=ep,u.isNil=rp,u.isNull=tp,u.isNumber=Oo,u.isObject=Z,u.isObjectLike=j,u.isPlainObject=wt,u.isRegExp=Bi,u.isSafeInteger=ip,u.isSet=Lo,u.isString=_r,u.isSymbol=Sn,u.isTypedArray=Ze,u.isUndefined=up,u.isWeakMap=fp,u.isWeakSet=op,u.join=lh,u.kebabCase=Vp,u.last=Bn,u.lastIndexOf=ch,u.lowerCase=Xp,u.lowerFirst=Qp,u.lt=ap,u.lte=sp,u.max=zd,u.maxBy=Yd,u.mean=Zd,u.meanBy=Jd,u.min=Vd,u.minBy=Xd,u.stubArray=Hi,u.stubFalse=ki,u.stubObject=Fd,u.stubString=Ud,u.stubTrue=Dd,u.multiply=Qd,u.nth=hh,u.noConflict=Ed,u.noop=Gi,u.now=hr,u.pad=jp,u.padEnd=nd,u.padStart=ed,u.parseInt=td,u.random=Kp,u.reduce=dg,u.reduceRight=_g,u.repeat=rd,u.replace=id,u.result=Bp,u.round=jd,u.runInContext=l,u.sample=mg,u.size=yg,u.snakeCase=ud,u.some=bg,u.sortedIndex=xh,u.sortedIndexBy=wh,u.sortedIndexOf=yh,u.sortedLastIndex=bh,u.sortedLastIndexBy=Ah,u.sortedLastIndexOf=Th,u.startCase=od,u.startsWith=ad,u.subtract=n_,u.sum=e_,u.sumBy=t_,u.template=sd,u.times=Nd,u.toFinite=ae,u.toInteger=O,u.toLength=Po,u.toLower=ld,u.toNumber=Fn,u.toSafeInteger=lp,u.toString=N,u.toUpper=cd,u.trim=hd,u.trimEnd=gd,u.trimStart=pd,u.truncate=dd,u.unescape=_d,u.uniqueId=$d,u.upperCase=vd,u.upperFirst=Di,u.each=xo,u.eachRight=wo,u.first=po,$i(u,function(){var n={};return Zn(u,function(e,t){q.call(u.prototype,t)||(n[t]=e)}),n}(),{chain:!1}),u.VERSION=x,On(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){u[n].placeholder=u}),On(["drop","take"],function(n,e){W.prototype[n]=function(t){t=t===o?1:on(O(t),0);var r=this.__filtered__&&!e?new W(this):this.clone();return r.__filtered__?r.__takeCount__=cn(t,r.__takeCount__):r.__views__.push({size:cn(t,Yn),type:n+(r.__dir__<0?"Right":"")}),r},W.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),On(["filter","map","takeWhile"],function(n,e){var t=e+1,r=t==Nn||t==At;W.prototype[n]=function(i){var f=this.clone();return f.__iteratees__.push({iteratee:A(i,3),type:t}),f.__filtered__=f.__filtered__||r,f}}),On(["head","last"],function(n,e){var t="take"+(e?"Right":"");W.prototype[n]=function(){return this[t](1).value()[0]}}),On(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");W.prototype[n]=function(){return this.__filtered__?new W(this):this[t](1)}}),W.prototype.compact=function(){return this.filter(wn)},W.prototype.find=function(n){return this.filter(n).head()},W.prototype.findLast=function(n){return this.reverse().find(n)},W.prototype.invokeMap=M(function(n,e){return typeof n=="function"?new W(this):this.map(function(t){return pt(t,n,e)})}),W.prototype.reject=function(n){return this.filter(pr(A(n)))},W.prototype.slice=function(n,e){n=O(n);var t=this;return t.__filtered__&&(n>0||e<0)?new W(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==o&&(e=O(e),t=e<0?t.dropRight(-e):t.take(e-n)),t)},W.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},W.prototype.toArray=function(){return this.take(Yn)},Zn(W.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=u[r?"take"+(e=="last"?"Right":""):e],f=r||/^find/.test(e);i&&(u.prototype[e]=function(){var a=this.__wrapped__,s=r?[1]:arguments,c=a instanceof W,p=s[0],d=c||I(a),_=function(P){var B=i.apply(u,he([P],s));return r&&v?B[0]:B};d&&t&&typeof p=="function"&&p.length!=1&&(c=d=!1);var v=this.__chain__,w=!!this.__actions__.length,T=f&&!v,L=c&&!w;if(!f&&d){a=L?a:new W(this);var S=n.apply(a,s);return S.__actions__.push({func:lr,args:[_],thisArg:o}),new Mn(S,v)}return T&&L?n.apply(this,s):(S=this.thru(_),T?r?S.value()[0]:S.value():S)})}),On(["pop","push","shift","sort","splice","unshift"],function(n){var e=Ft[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);u.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var f=this.value();return e.apply(I(f)?f:[],i)}return this[t](function(a){return e.apply(I(a)?a:[],i)})}}),Zn(W.prototype,function(n,e){var t=u[e];if(t){var r=t.name+"";q.call(He,r)||(He[r]=[]),He[r].push({name:e,func:t})}}),He[rr(o,Qn).name]=[{name:"wrapper",func:o}],W.prototype.clone=_l,W.prototype.reverse=vl,W.prototype.value=ml,u.prototype.at=Yh,u.prototype.chain=Zh,u.prototype.commit=Jh,u.prototype.next=Vh,u.prototype.plant=Qh,u.prototype.reverse=jh,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=ng,u.prototype.first=u.prototype.head,ot&&(u.prototype[ot]=Xh),u},qe=Js();Ae?((Ae.exports=qe)._=qe,qr._=qe):sn._=qe}).call(K_)}(yt,yt.exports)),yt.exports}var Y_=z_();const Z_=sa(Y_);class J_{async markExamAnswers(y,o,x){if(!o&&!x)return console.error("File or guidelines must be provided to mark answers."),null;if(!xr)return console.error("Prompt for marking exam answers is not available."),null;if(!Zi||!Zi)return console.error("Response schema for marking exam answers is not available."),null;let E="";o&&(E+=`
${xr.filePrompt}`),E+=`
${xr.basePrompt}`,x&&(E+=`
${xr.guidelinesPrompt.replaceAll("{{ guidelines }}",x)}`),E+=`

${JSON.stringify(y)}`;const J=await v_.sendUserMessage(E,Zi,o);let F;try{F=JSON.parse(J),Z_.merge(y,F),y.marked=!0}catch(V){return console.error("Error parsing LLM response:",V,J),null}return y}}const V_=new J_;var Ji,Zo;function ca(){if(Zo)return Ji;Zo=1;function b(y){var o=typeof y;return y!=null&&(o=="object"||o=="function")}return Ji=b,Ji}var Vi,Jo;function X_(){if(Jo)return Vi;Jo=1;var b=typeof we=="object"&&we&&we.Object===Object&&we;return Vi=b,Vi}var Xi,Vo;function ha(){if(Vo)return Xi;Vo=1;var b=X_(),y=typeof self=="object"&&self&&self.Object===Object&&self,o=b||y||Function("return this")();return Xi=o,Xi}var Qi,Xo;function Q_(){if(Xo)return Qi;Xo=1;var b=ha(),y=function(){return b.Date.now()};return Qi=y,Qi}var ji,Qo;function j_(){if(Qo)return ji;Qo=1;var b=/\s/;function y(o){for(var x=o.length;x--&&b.test(o.charAt(x)););return x}return ji=y,ji}var nu,jo;function nv(){if(jo)return nu;jo=1;var b=j_(),y=/^\s+/;function o(x){return x&&x.slice(0,b(x)+1).replace(y,"")}return nu=o,nu}var eu,na;function ga(){if(na)return eu;na=1;var b=ha(),y=b.Symbol;return eu=y,eu}var tu,ea;function ev(){if(ea)return tu;ea=1;var b=ga(),y=Object.prototype,o=y.hasOwnProperty,x=y.toString,E=b?b.toStringTag:void 0;function J(F){var V=o.call(F,E),rn=F[E];try{F[E]=void 0;var U=!0}catch{}var X=x.call(F);return U&&(V?F[E]=rn:delete F[E]),X}return tu=J,tu}var ru,ta;function tv(){if(ta)return ru;ta=1;var b=Object.prototype,y=b.toString;function o(x){return y.call(x)}return ru=o,ru}var iu,ra;function rv(){if(ra)return iu;ra=1;var b=ga(),y=ev(),o=tv(),x="[object Null]",E="[object Undefined]",J=b?b.toStringTag:void 0;function F(V){return V==null?V===void 0?E:x:J&&J in Object(V)?y(V):o(V)}return iu=F,iu}var uu,ia;function iv(){if(ia)return uu;ia=1;function b(y){return y!=null&&typeof y=="object"}return uu=b,uu}var fu,ua;function uv(){if(ua)return fu;ua=1;var b=rv(),y=iv(),o="[object Symbol]";function x(E){return typeof E=="symbol"||y(E)&&b(E)==o}return fu=x,fu}var ou,fa;function fv(){if(fa)return ou;fa=1;var b=nv(),y=ca(),o=uv(),x=NaN,E=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,F=/^0o[0-7]+$/i,V=parseInt;function rn(U){if(typeof U=="number")return U;if(o(U))return x;if(y(U)){var X=typeof U.valueOf=="function"?U.valueOf():U;U=y(X)?X+"":X}if(typeof U!="string")return U===0?U:+U;U=b(U);var un=J.test(U);return un||F.test(U)?V(U.slice(2),un?2:8):E.test(U)?x:+U}return ou=rn,ou}var au,oa;function ov(){if(oa)return au;oa=1;var b=ca(),y=Q_(),o=fv(),x="Expected a function",E=Math.max,J=Math.min;function F(V,rn,U){var X,un,Xn,k,C,z,Q=0,Qn=!1,le=!1,yn=!0;if(typeof V!="function")throw new TypeError(x);rn=o(rn)||0,b(U)&&(Qn=!!U.leading,le="maxWait"in U,Xn=le?E(o(U.maxWait)||0,rn):Xn,yn="trailing"in U?!!U.trailing:yn);function jn(nn){var Nn=X,be=un;return X=un=void 0,Q=nn,k=V.apply(be,Nn),k}function Dn(nn){return Q=nn,C=setTimeout(zn,rn),Qn?jn(nn):k}function ye(nn){var Nn=nn-z,be=nn-Q,At=rn-Nn;return le?J(At,Xn-be):At}function En(nn){var Nn=nn-z,be=nn-Q;return z===void 0||Nn>=rn||Nn<0||le&&be>=Xn}function zn(){var nn=y();if(En(nn))return Me(nn);C=setTimeout(zn,ye(nn))}function Me(nn){return C=void 0,yn&&X?jn(nn):(X=un=void 0,k)}function br(){C!==void 0&&clearTimeout(C),Q=0,X=z=un=C=void 0}function Ar(){return C===void 0?k:Me(y())}function Qe(){var nn=y(),Nn=En(nn);if(X=arguments,un=this,z=nn,Nn){if(C===void 0)return Dn(z);if(le)return clearTimeout(C),C=setTimeout(zn,rn),jn(z)}return C===void 0&&(C=setTimeout(zn,rn)),k}return Qe.cancel=br,Qe.flush=Ar,Qe}return au=F,au}var av=ov();const sv=sa(av),lv={key:0},cv={class:"space-y-8 p-16"},hv={class:"top-4 right-4 fixed space-x-4"},gv={class:"gap-4 grid grid-cols-1 md:grid-cols-2"},pv={class:"space-y-4"},dv={key:0},_v=["src"],vv={class:"space-y-2"},mv={class:"flex justify-center space-x-2 mt-4"},xv=["disabled"],Av=Xe({__name:"questions",setup(b){const y=l_(),o=g_(),x=Ve(null),E=Ve(),J=Ve(null),F=Ve(""),V=Ve(!1),rn=Ve(!1);s_(()=>{U()});const U=()=>{let k;try{if(k=JSON.parse(localStorage.getItem("exams")),!k)throw new Error("No exams found in local storage");x.value=k.find(C=>C.title===y.params.title)??null,x.value&&(E.value=localStorage.getItem(x.value.fileName))}catch(C){console.error("Failed to parse exam from local storage",C);return}},X=()=>{if(!x.value){console.error("No exam to save");return}let k=JSON.parse(localStorage.getItem("exams"))||[];k=k.map(C=>C.title===x.value.title?{...x.value}:C),localStorage.setItem("exams",JSON.stringify(k))},un=sv(X,1e3),Xn=async()=>{var k;if(!x.value){console.error("No exam to mark");return}rn.value=!0,X(),x.value=await V_.markExamAnswers(x.value,J.value,F.value),X(),o.push({name:"marking",params:{title:(k=x.value)==null?void 0:k.title}})};return(k,C)=>x.value?(_n(),Un("div",lv,[G("div",cv,[G("div",hv,[G("button",{type:"button",class:"bg-blue-500 shadow px-2 py-2 rounded w-32 text-white cursor-pointer",onClick:X}," Save "),G("button",{type:"button",class:"bg-red-500 shadow px-2 py-2 rounded w-32 text-white cursor-pointer",onClick:C[0]||(C[0]=z=>V.value=!V.value)}," Mark ")]),zi(p_,{exam:x.value},null,8,["exam"]),G("div",gv,[G("form",pv,[(_n(!0),Un(cu,null,hu(x.value.questions,z=>(_n(),su(U_,{modelValue:z.answer,"onUpdate:modelValue":Q=>z.answer=Q,question:z,onChange:c_(un)},null,8,["modelValue","onUpdate:modelValue","question","onChange"]))),256))]),E.value?(_n(),Un("div",dv,[G("iframe",{src:E.value,class:"w-full h-full"},null,8,_v)])):aa("",!0)]),zi(b_,{modelValue:V.value,"onUpdate:modelValue":C[4]||(C[4]=z=>V.value=z)},{title:Yi(()=>C[5]||(C[5]=[zo("Mark Exam")])),subtitle:Yi(()=>C[6]||(C[6]=[zo(" Are you ready to complete this exam and have it marked? If so, upload the mark scheme and/or any marking guidelines you have. ")])),default:Yi(()=>[G("div",vv,[G("input",{type:"file",class:"input",accept:".pdf",onChange:C[1]||(C[1]=z=>{var Q;return J.value=((Q=z.target.files)==null?void 0:Q[0])||null})},null,32),zi(la,{modelValue:F.value,"onUpdate:modelValue":C[2]||(C[2]=z=>F.value=z),placeholder:"Marking guidelines...",rows:5},null,8,["modelValue"])]),G("div",mv,[G("button",{type:"button",class:"flex-grow btn btn-primary",onClick:C[3]||(C[3]=z=>V.value=!1)}," I'm not finished, go back "),G("button",{type:"button",class:h_(["flex-grow btn btn-error",rn.value?"opacity-50 cursor-not-allowed":""]),disabled:rn.value,onClick:Xn}," My answers are final, mark my exam ",10,xv)])]),_:1},8,["modelValue"])])])):(_n(),su(d_,{key:1,class:"mt-16"}))}});export{Av as default};
