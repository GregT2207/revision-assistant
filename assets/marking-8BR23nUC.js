import{_ as x,E as k}from"./ExamNotFound-CWj9cNKK.js";import{d as w,r as v,o as b,B as f,c as d,z as _,a as r,e as y,t,n as c,D as A,F as C,g as M,l as i,j as m,i as o}from"./index-DskCPORp.js";const N={key:0,class:"p-16"},E={class:"flex flex-col gap-4 mb-16"},B={class:"flex space-x-4 w=full"},z={class:"bg-base-100 p-8 rounded-lg w-full"},F={class:"flex flex-col items-center bg-base-100 p-8 rounded-lg w-full"},S={class:"space-y-4"},V={key:0},j={class:"italic"},D={key:1},O={key:2},P={class:"italic"},L=w({__name:"marking",setup($){const g=f(),a=v(null);b(()=>{p()});const p=()=>{let l;try{if(l=JSON.parse(localStorage.getItem("exams")),!l)throw new Error("No exams found in local storage");a.value=l.find(e=>e.title===g.params.title)??null}catch(e){console.error("Failed to parse exam from local storage",e);return}},u=l=>Math.round((l.marksAwarded??0)/l.maxMarks*100),n=l=>{const e=u(l);return e>=80?"success":e>=50?"warning":"error"};return(l,e)=>a.value?(o(),d("div",N,[r("div",E,[y(x,{exam:a.value},null,8,["exam"]),r("div",B,[r("div",z,t(a.value.markingComments),1),r("div",F,[r("p",{class:c(["mb-4 text-3xl",{"text-success":n(a.value)==="success","text-warning":n(a.value)==="warning","text-error":n(a.value)==="error"}])},t(a.value.marksAwarded)+" / "+t(a.value.maxMarks),3),r("div",{class:c(["border-4 border-transparent radial-progress",{"bg-success/10 text-success":n(a.value)==="success","bg-warning/10 text-warning":n(a.value)==="warning","bg-error/10 text-error":n(a.value)==="error"}]),style:A(`--value:${u(a.value)}; --size:12rem`),role:"progressbar"},t(u(a.value))+"% ",7)])])]),r("div",S,[(o(!0),d(C,null,M(a.value.questions,s=>(o(),d("div",{class:c(["bg-base-100 shadow-md p-8 rounded-lg",s.marksAwarded!==void 0?{"bg-success/10":s.marksAwarded===s.maxMarks,"bg-warning/10":s.marksAwarded>0&&s.marksAwarded<s.maxMarks,"bg-error/10":s.marksAwarded===0}:""])},[r("p",null,[e[0]||(e[0]=r("b",null,"Question:",-1)),m(" "+t(s.text),1)]),s.options?(o(),d("p",V,[e[1]||(e[1]=r("b",null,"Options:",-1)),m(" "+t(s.options.join(", ")),1)])):i("",!0),r("p",null,[e[2]||(e[2]=r("b",null,"Your answer:",-1)),e[3]||(e[3]=m()),r("span",j,t(s.answer),1)]),s.correctAnswer?(o(),d("p",D,[e[4]||(e[4]=r("b",null,"Correct answer:",-1)),m(" "+t(s.correctAnswer),1)])):i("",!0),r("p",null,[e[5]||(e[5]=r("b",null,"Marks:",-1)),m(" "+t(s.marksAwarded??0)+" / "+t(s.maxMarks),1)]),s.markingComments?(o(),d("p",O,[e[6]||(e[6]=r("b",null,"Comments:",-1)),e[7]||(e[7]=m()),r("span",P,t(s.markingComments),1)])):i("",!0)],2))),256))])])):(o(),_(k,{key:1,class:"mt-16"}))}});export{L as default};
